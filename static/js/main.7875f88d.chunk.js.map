{"version":3,"sources":["redux/course/courseActions.js","redux/course/courseTypes.js","redux/settings/settingsActions.js","redux/settings/settingsTypes.js","redux/focus/focusActions.js","redux/focus/focusTypes.js","styles/components/appStyles.js","styles/base/base.js","styles/components/headerStyles.js","componenets/layout/Header.js","componenets/pages/About.js","componenets/Notification.js","componenets/pages/Instructions.js","styles/components/homeStyles.js","componenets/SaveChanges.js","componenets/GradeFilter.js","styles/components/sideviewStyles.js","styles/components/animations.js","styles/components/programmapStyles.js","lib/arboreal.js","lib/progression.js","componenets/model/CourseClass.js","componenets/Progression.js","componenets/SideView.js","componenets/ResetChanges.js","componenets/CGPACalculator.js","componenets/AddCourse.js","componenets/Course.js","componenets/Term.js","componenets/AddTerm.js","componenets/RemoveTerm.js","componenets/ProgramMap.js","componenets/Home.js","redux/settings/settingsReducer.js","componenets/GPASettings.js","componenets/Settings.js","App.js","serviceWorker.js","redux/course/courseReducer.js","redux/focus/focusReducer.js","redux/rootReducer.js","redux/store.js","index.js"],"names":["addCourse","term","courseCode","type","payload","removeTerm","index","toggleSelectCourse","dispatch","getState","courses","selectedCourse","code","loadCourses","prereq","coreq","toggleDarkmode","toggleState","darkmode","settings","nightmode","changeFocus","element","StyledAppContainer","styled","div","GlobalStyles","createGlobalStyle","StyledHeader","header","theme","button","linkStyle","color","textDecoration","Header","style","to","About","Fragment","Container","props","top","emitter","ee","notify","msg","emit","Notification","onShow","timeout","clearTimeout","setState","setTimeout","showNotification","state","on","this","Component","Instructions","listStyle","padding","StyledInner","StyledInnerTop","bgAlt","StyledInnerBottomHead","StyledInnerBottomFoot","StyledInnerBottom","expanded","buttonStyle","borderRadius","border","background","height","SaveChanges","onClick","onSaveClick","className","value","GradeFilter","onSubmit","e","preventDefault","category","val","onClickFilterByCategory","onChange","target","name","gradeFilterStyle","Label","lineHeight","width","alignSelf","Input","inputStyle","id","defaultValue","placeholder","btnStyle","propType","PropTypes","func","isRequired","display","margin","cursor","StyledContainer","sidePanel","StyledButtonShow","Button","StyledSelect","Select","breakpoint","StyleResponsiveContainer","StyledCanvasContainer","radius","y","x","popin","keyframes","StyledMap","Table","bg","StyledFocusElement","td","StyledMapHead","thead","StyledMapBody","tbody","StyledMapHeading","th","StyledMapData","StyledMapDataAnimated","StyledMapRow","tr","StyledMapRowResponsive","StyledTermRow","StyledButton","buttonHover","StyledButtonAdd","StyledButtonDelete","StyledButtonSave","_traverseDown","context","iterator","doContinue","walkDown","node","i","children","length","_traverseUp","parent","_traverse","callback","visited","returned","item","indexOf","call","push","_removeChild","splice","shift","Arboreal","data","depth","separator","join","nodeId","parse","object","childrenAttr","root","getNodeData","attr","nodeData","newNode","prototype","appendChild","child","removeChild","arg","Error","remove","isRoot","traverseUp","traverseDown","toString","lines","indentation","find","finder","match","path","substring","indexes","split","parseInt","toArray","nodeList","__defineGetter__","buildTreeNode","treeObject","hasOwnProperty","forEach","course","CourseClass","grade","credits","Node","ctx","text","parentX","parentY","moveTo","lineTo","stroke","beginPath","arc","Math","PI","font","fillText","console","log","Progression","prereqObject","buildTreeObject","tree","Arborel","leafNodes","maxDepth","maxSiblingCount","theCanvas","useRef","theContainer","rootNodePosition","nodeRadius","pow","canvasDimentionY","canvasDimentionX","numOfSiblings","positionInSibling","findIndex","n","nodePosition","floor","ceil","yPos","current","getContext","selectedCoursePrereq","useEffect","scrollTo","clearRect","ref","objectOf","SideView","action","removedValue","getSelectOption","label","getValueFromSelectOption","option","sendNotification","pC","prereqCourses","prs","map","handleClickEditPrereq","cC","coreqCourses","crs","handleClickEditCoreq","forceUpdate","prevProps","equal","updateState","first","second","result","JSON","stringify","newProps","selectedTerm","selectedPrereqList","selectPrereq","slice","selectOptionsPrereq","concat","apply","filter","includes","selectedCoreqList","selectedCoreqIndex","cl","c","selectOptionsCoreq","form","sytle","formStyle","buttonShowStyle","handleClickShowPrereq","bind","styles","customStyles","isMulti","options","handleClickShowCoreq","textAlign","fontWeight","handleClickEditCourse","array","number","container","provided","control","overflowY","ResetChanges","onResetClick","CGPACalculator","convertNumericToGradePoint","numericGrade","GPAStops","gradepoint","stop","lower","upper","schools","currentSchool","allcourses","sort","a","b","totalPoints","reduce","prev","curr","totalCredits","CGPA","round","cList","key","unshift","gradeFinderStyle","alignItems","connect","AddCourse","performValidation","trim","courseList","undefined","message","Form","addCourseStyle","for","handleClickAddCourse","flexDirection","justifyContent","minHeight","marginTop","Course","editedCourse","Number","isNaN","courseName","onSelect","isSelected","focus","scrollIntoView","behavior","block","inline","handleClickSelectCourse","toggleFocus","selectButton","React","createRef","appliedclasses","isHighlighted","courseStyle","dragholder","FormGroup","handleClickDeleteCourse","instanceOf","bool","Term","termNumber","filteredCourses","handleDragStart","handleDragEnter","isDragging","getDraggingStyles","termDisplay","termDisplayStyle","coursesDisplay","ind","val1","termI","courseI","onDragStart","onDragEnter","draggable","AddTerm","handleClickAddTerm","addNewTermStyle","RemoveTerm","handleClick","removeTermStyle","handleClickRemoveTerm","ProgramMap","maxCourseYears","useState","dragging","setDragging","dragItem","dragNode","useDispatch","useSelector","currentFocusedElm","params","document","elementFromPoint","clientX","clientY","classList","contains","addEventListener","handleDragEnd","removeEventListener","currentItem","dragEnter","focusedCourse","offsetWidth","offsetHeight","transform","offsetLeft","offsetTop","rows","scope","responsive","bordered","size","colSpan","position","left","Home","resetChanges","window","confirm","populateCourseData","clearFilter","clearSelected","saveCourseData","localStorage","setItem","App","localStorageKey","getMaxCourseForYears","max","addTerm","editCourse","toggleSelect","deleteCourse","filterByCategory","editPrereq","editCoreq","showPrereq","showCoreq","CourseActionCreators","AllSchools","initialState","settingsReducer","schoolName","schoolGrades","Object","assign","items","customSchoolSettings","gradeLetters","GPASettings","setGPAStops","letter","customSchoolGPAStops","currentTarget","newStop","newStops","htmlFor","AllActionCreators","keys","striped","removeAtIndex","min","AllActionsCreators","CustomInput","checked","defaultTheme","darkmodeTheme","componentDidMount","restoreSettings","onWindowResize","componentWillUnmount","toggleSelected","getItem","loadSettings","loadCustomSchool","dataStringCourses","dataStringPrereq","dataStringCoreq","dataObjectCourses","dataObjectPrereq","dataObjectCoreq","exact","render","component","Settings","apiurlpartial","Boolean","location","hostname","concatAtIndex","list","listAlt","combineCoreqSets","inputCoreq","allcoreq","j","intersects","Set","getCoursesFromCodes","codes","deleteCoursesFromPrereq","courseCodes","entry","deleteCoursesFromCoreq","courseSet","courseReducer","termList","EmptyCourse","filtered","unfiltered","prereqcopy","coreqcopy","li","newCourses","focusReducer","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","logger","thunk","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.7875f88d.chunk.js","sourcesContent":["import * as courseTypes from './courseTypes';\r\n\r\nexport const addCourse = (term, courseCode) => {\r\n    return {\r\n        type: courseTypes.ADD_COURSE,\r\n        payload: { term, courseCode }\r\n    }\r\n}\r\n\r\nexport const editCourse = (term, editedCourse) => {\r\n    return {\r\n        type: courseTypes.EDIT_COURSE,\r\n        payload: { term, editedCourse }\r\n    }\r\n}\r\n\r\nexport const deleteCourse = (term, courseCode) => {\r\n    return {\r\n        type: courseTypes.DELETE_COURSE,\r\n        payload: { term, courseCode }\r\n    }\r\n}\r\n\r\nexport const addTerm = (index = -1) => {\r\n    return {\r\n        type: courseTypes.ADD_TERM,\r\n        payload: index\r\n    }\r\n}\r\n\r\nexport const removeTerm = (index = -1) => {\r\n    return {\r\n        type: courseTypes.REMOVE_TERM,\r\n        payload: index\r\n    }\r\n}\r\n\r\nexport const filterByCategory = (category, value) => {\r\n    return {\r\n        type: courseTypes.FILTER,\r\n        payload: {category, value}\r\n    }\r\n}\r\n\r\nexport const clearFilter = () => {\r\n    return {\r\n        type: courseTypes.CLEAR_FILTER\r\n    }\r\n}\r\n\r\n\r\nexport const toggleSelectCourse = (courseCode = \"not_specified\") => {\r\n    if (courseCode === \"not_specified\") {\r\n\t\treturn (dispatch, getState) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: courseTypes.TOGGLE_SELECT,\r\n\t\t\t\tpayload: (getState().courses.selectedCourse)? getState().courses.selectedCourse.code : \"\",\r\n\t\t\t});\r\n        }\r\n    } else {\r\n        return (dispatch, getState) => {\r\n\t\t\tdispatch({ type: courseTypes.TOGGLE_SELECT, payload: courseCode });\r\n\t\t};\r\n    } \r\n}\r\n\r\nexport const clearSelected = () => {\r\n    return {\r\n        type: courseTypes.CLEAR_SELECT\r\n    }\r\n}\r\n\r\nexport const editPrereq = (courseCode, prereqCourses) => {\r\n    return {\r\n        type: courseTypes.EDIT_PREREQ,\r\n        payload: { courseCode, prereqCourses }\r\n    }\r\n}\r\n\r\nexport const editCoreq = (courseCode, coreqCourses) => {\r\n    return {\r\n        type: courseTypes.EDIT_COREQ,\r\n        payload: { courseCode, coreqCourses }\r\n    }\r\n}\r\n\r\nexport const showPrereq = (courseCode) => {\r\n    \r\n    return {\r\n        type: courseTypes.SHOW_PREREQ,\r\n        payload: courseCode\r\n    }\r\n}\r\n\r\nexport const showCoreq = (courseCode) => {\r\n    \r\n    return {\r\n        type: courseTypes.SHOW_COREQ,\r\n        payload: courseCode\r\n    }\r\n}\r\n\r\nexport const loadCourses = (courses, prereq, coreq) => {\r\n    return {\r\n        type: courseTypes.LOAD_COURSES,\r\n        payload: { courses, prereq, coreq }\r\n    }\r\n}\r\n\r\nexport const dragEnter = (params, currentItem) => {\r\n    return {\r\n        type: courseTypes.DRAG_ENTER,\r\n        payload: {params, currentItem}\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","// course\r\nexport const ADD_COURSE = 'ADD_COURSE';\r\nexport const DELETE_COURSE = 'DELETE_COURSE';\r\nexport const EDIT_COURSE = 'EDIT_COURSE';\r\nexport const ADD_TERM = 'ADD_TERM';\r\nexport const REMOVE_TERM = 'REMOVE_TERM';\r\n\r\n// filter\r\nexport const FILTER = 'FILTER';\r\nexport const CLEAR_FILTER = 'CLEAR_FILTER';\r\n\r\n// select\r\nexport const TOGGLE_SELECT = 'TOGGLE_SELECT';\r\nexport const CLEAR_SELECT = 'CLEAR_SELECT';\r\n\r\n// prereq\r\nexport const EDIT_PREREQ = 'EDIT_PREREQ';\r\nexport const EDIT_COREQ = 'EDIT_COREQ';\r\nexport const SHOW_PREREQ = 'SHOW_PREREQ';\r\nexport const SHOW_COREQ = 'SHOW_COREQ';\r\n\r\n// loading\r\nexport const LOAD_COURSES = 'LOAD_COURSES';\r\n\r\n// dragging\r\nexport const DRAG_ENTER = 'DRAG_ENTER';","import * as settingsTypes from './settingsTypes';\r\n\r\nexport const toggleDarkmode = (toggleState = 'not_specified') => {\r\n    if (toggleState === \"not_specified\") {\r\n\t\treturn (dispatch, getState) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: settingsTypes.TOGGLE_DARKMODE,\r\n\t\t\t\tpayload: { darkmode: !getState().settings.darkmode },\r\n\t\t\t});\r\n        }\r\n    } else {\r\n        return (dispatch, getState) => {\r\n\t\t\tdispatch({ type: settingsTypes.TOGGLE_DARKMODE, payload: { nightmode: toggleState } });\r\n\t\t};\r\n    } \r\n}\r\n\r\n\r\nexport const setCurrentSchool = (currentSchool) => {\r\n\treturn {\r\n\t\ttype: settingsTypes.SET_CURRENT_SCHOOL,\r\n\t\tpayload: { currentSchool }\r\n\t}\r\n}\r\n\r\nexport const setSchoolGrades = (schoolName = 'none', schoolGrades) => {\r\n\treturn {\r\n\t\ttype: settingsTypes.SET_SCHOOL_GRADES,\r\n\t\tpayload: { schoolName, schoolGrades }\r\n\t}\r\n}\r\n\r\nexport const loadSettings = (items) => {\r\n\treturn {\r\n\t\ttype: settingsTypes.LOAD_SETTINGS,\r\n\t\tpayload: { items }\r\n\t}\r\n}\r\n\r\nexport const loadCustomSchool = (customSchoolSettings) => {\r\n\treturn {\r\n\t\ttype: settingsTypes.LOAD_CUSTOM_SCHOOL,\r\n\t\tpayload: { customSchoolSettings }\r\n\t}\r\n}\r\n","export const TOGGLE_DARKMODE = 'TOGGLE_DARKMODE';\r\n\r\n\r\n// School Settings\r\n\r\nexport const SET_CURRENT_SCHOOL = 'SET_CURRENT_SCHOOL';\r\nexport const SET_SCHOOL_GRADES = 'SET_SCHOOL_GRADES';\r\nexport const LOAD_CUSTOM_SCHOOL = 'LOAD_CUSTOM_SCHOOL';\r\n\r\n// Loading\r\n\r\nexport const LOAD_SETTINGS = 'LOAD_SETTINGS';","import * as focusTypes from './focusTypes';\r\n\r\n\r\nexport const changeFocus = (element) => {\r\n    return {\r\n        type: focusTypes.CHANGE_FOCUS,\r\n        payload: element\r\n    };\r\n}\r\n\r\n\r\nexport const changeStyle = (newStyle) => {\r\n    return {\r\n        type: focusTypes.CHANGE_STYLE,\r\n        payload: newStyle\r\n    };\r\n}\r\n\r\nexport const blurFocus = () => {\r\n    return {\r\n        type: focusTypes.BLUR_FOCUS\r\n    };\r\n}\r\n\r\n\r\n","export const CHANGE_FOCUS = 'CHANGE_FOCUS';\r\nexport const CHANGE_STYLE = 'CHANGE_STYLE';\r\nexport const BLUR_FOCUS = 'BLUR_FOCUS';\r\n","import styled from 'styled-components';\r\n\r\nexport const StyledAppContainer = styled.div`\r\n  padding: 0 1rem;\r\n  width: 100%;\r\n  min-height: 100vh;\r\n`;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n    * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-size: 1.5vmin;\r\n    }\r\n\r\n    body{\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    line-height: 1.4;\r\n    font-size: 1.5vmin;\r\n    }\r\n\r\n    a {\r\n    color: #333;\r\n    text-decoration: none;\r\n    }\r\n\r\n\r\n\r\n    h1{ font-size: 20px; }\r\n    h2{ font-size: 16px; }\r\n    h3{ font-size: 12px; }\r\n    h4{ font-size: 8px; }\r\n    input{font-size: 1.5vmin; padding: 0;}\r\n\r\n`;\r\n\r\n\r\nexport default GlobalStyles;","import styled from 'styled-components';\r\n\r\nexport const StyledHeader = styled.header`\r\n    border: 2px solid black;\r\n    background-color: ${({ theme }) => theme.button};\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    color: #fff;\r\n    padding: 10px;\r\n`;","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { StyledHeader } from '../../styles/components/headerStyles';\r\nfunction Header() {\r\n    return (\r\n        <StyledHeader>\r\n            <h1>Grade Tracker</h1>\r\n            <Link style={linkStyle} to=\"/\">Home</Link> | {' '}  \r\n            <Link style={linkStyle} to=\"/about\">About</Link> | {' '}  \r\n            <Link style={linkStyle} to=\"/instructions\">Instructions</Link> | {' '}\r\n            <Link style={linkStyle} to=\"/settings\">Settings</Link>\r\n        </StyledHeader>\r\n    )\r\n}\r\n\r\n\r\nconst linkStyle = {\r\n    color: '#fff',\r\n    textDecoration: 'none'\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nfunction About() {\r\n    return (\r\n        <React.Fragment>\r\n          <h1>About</h1> \r\n          <p>This app was created to help students manage their courses and assist when planning  what courses they will devote their study time into.</p>\r\n          <p>v.1.0.0</p> \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default About;\r\n","import React, { Component } from 'react'\r\nimport styled from 'styled-components';\r\nimport ee from 'event-emitter';\r\n\r\nconst Container = styled.div\r\n`\r\n    background-color: #444;\r\n    color: white;\r\n    padding: 16px;\r\n    position: absolute;\r\n    top: ${props => props.top}px;\r\n    right: 16px;\r\n    z-index: 999;\r\n    transition: top 0.5s ease;\r\n\r\n`;\r\n\r\nconst emitter = new ee();\r\n\r\nexport const notify = (msg) => {\r\n    emitter.emit('notification', msg);\r\n}\r\n\r\nexport class Notification extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            top: -100,\r\n            msg: '',\r\n        };\r\n\r\n        this.timeout = null;\r\n\r\n        emitter.on('notification', (msg) => {\r\n            this.onShow(msg);\r\n        });\r\n    }\r\n\r\n    onShow = (msg) => {\r\n        if (this.timeout){\r\n            clearTimeout(this.timeout);\r\n            this.setState({ top: -100}, () => {\r\n                this.timeout = setTimeout(() => {\r\n                    this.showNotification(msg);\r\n                }, 500);\r\n            });\r\n        }else{\r\n            this.showNotification(msg);\r\n        }\r\n    }\r\n\r\n    showNotification = (msg) => {\r\n        this.setState({\r\n            top: 100,\r\n            msg\r\n        }, () => {\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({\r\n                    top: -100,\r\n                });\r\n            }, 3000)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container top={this.state.top}>{this.state.msg}</Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nfunction Instructions() {\r\n    return (\r\n        <React.Fragment>\r\n            <h1>Instructions</h1> \r\n            <h2>Adding a course</h2>\r\n            <p>To add a course:</p>\r\n            <ol style={listStyle}>\r\n                <li>First make sure that the term for the course exist. This can be done by clicking the 'Add a new term' button. The term number should be displayed on the left side.</li>\r\n                <li>Once the correct term exist, locate the corresponding 'add course' field for the term.</li>\r\n                <li>Enter the course code for the course in the field, and press enter or click the 'Add a new course' button.</li>\r\n                <li>If the course ws successfully added, a cell should appear with the course code in the table.</li>\r\n                <li>You can change the name, course code, and credits by edit the remaining fields then clicking 'Set changes'</li>\r\n            </ol> \r\n\r\n            \r\n            <h2>Adding/Editing prerequisites</h2>\r\n            <p>To change prerequisite courses:</p>\r\n            <ol style={listStyle}>\r\n                <li>First select a course by clicking on the 'Select' button on any one of the course cells.</li>\r\n                <li>Once a course has been selected, a panel in the bottom will open.</li>\r\n                <li>There will be a select form displaying the current prerequisites of the selected course.</li>\r\n                <li>Click anywhere in the select form to open a list of the available prerequisite courses to choose from.</li>\r\n                <strong>Note: The list of prerequisites is made up of courses that exist in previous terms of the currently selected course</strong>\r\n                <li>Select prerequisite courses by clicking on any of the course codes.</li>\r\n                <strong>Note: Once you have finished, make sure to click 'Accept changes' button at the bottom of the panel</strong>\r\n                <li>You can not only add courses, but remove and change the courses by clicking on the 'x' beside each course code.</li>\r\n\r\n      \r\n            </ol> \r\n            \r\n            <h2>Adding/Editing corequisites</h2>\r\n            <p>To change corequisites courses:</p>\r\n            <ol style={listStyle}>\r\n                <li>First select a course by clicking on the 'Select' button on any one of the course cells.</li>\r\n                <li>Once a course has been selected, a panel in the bottom will open.</li>\r\n                <li>There will be a select form displaying the current corequisites of the selected course.</li>\r\n                <li>Click anywhere in the select form to open a list of the available corequisite courses to choose from.</li>\r\n                <strong>Note: The list of corequisites is made up of courses that exist in same term as the currently selected course</strong>\r\n                <li>Select corequisite courses by clicking on any of the course codes.</li>\r\n                <strong>Note: Once you have finished, make sure to click 'Accept changes' button at the bottom of the panel</strong>\r\n                <li>You can also change and remove the courses by clicking on the 'x' beside each course code.</li>\r\n                <strong>Note: When adding/changing the corequisite for a course, you can combine two sets of corequisites but cannot combine a set with a single course. </strong>\r\n                <strong>Trying to combine a set with a single course without specifying all the courses in the set will delete the previous set and create a new set.</strong>\r\n      \r\n            </ol>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Instructions\r\n\r\n\r\nconst listStyle = {\r\n    padding: '0 5px'\r\n};","import styled from 'styled-components';\r\n\r\nexport const StyledInner = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0 0%;\r\n    justify-content: center;\r\n    max-height: 90vh;\r\n`;\r\n\r\nexport const StyledInnerTop = styled.div`\r\n    background-color: ${({ theme }) => theme.bgAlt};\r\n    height: auto;\r\n    overflow-y: scroll;\r\n    max-height: 80%;\r\n    max-width: 100%;\r\n    padding-bottom: 20%;\r\n    border-left: 2px solid black;\r\n    border-right: 2px solid black;\r\n    border-radius: 5px;\r\n`;\r\n\r\n\r\nexport const StyledInnerBottomHead = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  & > * {\r\n    margin-right: 2px;\r\n  }\r\n  padding: 2px;\r\n  height: 40px;\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.button};\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  overflow-y: scroll;\r\n  ${'' /* transition: height 1s ease-in; */}\r\n`;\r\n\r\nexport const StyledInnerBottomFoot = styled.div`\r\n  height: 60px;\r\n  transition: height 0.5s ease-out;\r\n`;\r\n\r\nexport const StyledInnerBottom = styled.div`\r\n  height: ${({ expanded }) => expanded?\"300px\":\"100px\"};\r\n  max-height: 20%;\r\n  border: 2px solid black;\r\n  background: #677;\r\n  border-radius: 5px;\r\n  /* used for animation of sideview, not implemented */\r\n  transition: height 0.5s ease-out;\r\n\r\n    & > ${StyledInnerBottomHead} {\r\n        height: ${({ expanded }) => expanded?\"40px\":\"40px\"};\r\n    }\r\n\r\n    & > ${StyledInnerBottomFoot} {\r\n        height: ${({ expanded }) => expanded?\"260px\":\"60px\"};\r\n    }\r\n  \r\n \r\n`;\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nfunction SaveChanges(props) {\r\n    return (\r\n        <input\r\n            onClick={props.onSaveClick}\r\n            style={buttonStyle}\r\n            className=\"btn btn-save\"\r\n            type=\"button\"\r\n            value=\"Save the changes\"\r\n        />\r\n    )\r\n}\r\nconst buttonStyle = {\r\n    borderRadius:'5px',\r\n    border:'2px outset black',\r\n    background: '#9cafb7',\r\n    height: '100%',\r\n    color: '#000',\r\n};\r\n\r\nexport default SaveChanges;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Label } from 'reactstrap';\r\n\r\nexport class GradeFilter extends Component {\r\n        \r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            category: '2',\r\n            val: 0.0\r\n        };\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const {category, val} = this.state;\r\n        this.props.onClickFilterByCategory(category, val);\r\n    }\r\n\r\n    onChange = (e) => this.setState({[e.target.name]: e.target.value });\r\n\r\n    \r\n    render() {\r\n        return (\r\n            \r\n            <form style={gradeFilterStyle}\r\n            onSubmit={this.onSubmit}\r\n\r\n            >\r\n                <Label style={{lineHeight: '15px', width: 'auto', alignSelf: 'center' }}>Courses with grade </Label>\r\n                <Input \r\n                type=\"select\"\r\n                style={inputStyle}\r\n                id=\"filter\"\r\n                name=\"category\"\r\n                onChange={this.onChange}\r\n                defaultValue={this.state.category}\r\n                >\r\n                    <option value={1}>greater than</option>\r\n                    <option value={2}>less than</option>\r\n                    <option value={3}>equal to</option>\r\n                    <option value={4}>greater than or equal to</option>\r\n                    <option value={5}>less than or equal to</option>\r\n                </Input>\r\n                <Input style={inputStyle} type=\"text\" onChange={this.onChange}  name=\"val\" value={this.state.value} placeholder={0.0} />\r\n                <input style={btnStyle} type=\"submit\" value=\"Filter\"/>\r\n            </form>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n// PropTypes\r\nGradeFilter.propType = {\r\n    onClickFilterByCategory: PropTypes.func.isRequired,\r\n}\r\n\r\nconst gradeFilterStyle = {\r\n    \r\n    padding: '0px 15px',\r\n    borderRadius:'5px',\r\n    display: 'flex',\r\n    width: 'auto',\r\n    background: 'transparent',\r\n    border: '2px outset black',\r\n    color: 'white',\r\n    height: '100%'\r\n};\r\n\r\nconst inputStyle = {\r\n    background: 'lightgrey',\r\n    borderRadius: '5px',\r\n    alignSelf: 'center',\r\n    height: 'auto',\r\n    width: 'auto',\r\n    margin: '1px 10px',\r\n}\r\n\r\nconst btnStyle = {\r\n    display: 'inline-block',\r\n    border: '1px outset black',\r\n    background: '#677',\r\n    borderRadius: '5px',\r\n    alignSelf: 'center',\r\n    color: '#fff',\r\n    padding: '2px 10px',\r\n    cursor: 'pointer',\r\n    height: 'auto',\r\n    margin: '1px 10px',\r\n};\r\n\r\nexport default GradeFilter\r\n","import styled from 'styled-components';\r\nimport { Button } from 'reactstrap';\r\nimport Select from 'react-select'\r\n\r\nexport const StyledContainer = styled.div`\r\n    background: ${({theme})=>theme.sidePanel};\r\n    width: 100%;\r\n    text-align: center;\r\n    border: 2px solid grey;   \r\n    overflow-y: scroll;\r\n    height: 100%; \r\n`;\r\n\r\nexport const StyledButtonShow = styled(Button)`\r\n    border:1px outset black;\r\n    border-radius:5px;\r\n    padding: 5px;\r\n    background: #677;\r\n    &:hover {\r\n        background: #788;\r\n    }\r\n`;\r\n\r\n\r\n\r\nexport const StyledSelect = styled(Select)`\r\n    margin: 10px 20%;\r\n    @media screen and (max-width: ${({ theme }) => theme.breakpoint}){\r\n        margin: 10px 10%;\r\n    }\r\n    \r\n`;\r\n\r\nexport const StyleResponsiveContainer = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    & > * {\r\n        width: 100%;\r\n        padding: 5px;\r\n    }\r\n    \r\n`;\r\n\r\nexport const StyledCanvasContainer = styled.div`\r\n      position: relative;\r\n        height: 200px;\r\n        min-height: 50%;\r\n        width: 500px;\r\n        overflow: scroll;\r\n        max-width: 100%;\r\n        max-height: 100%;\r\n        background-color: grey;\r\n        margin: auto;\r\n        text-align: left;\r\n        border-radius: 15px;\r\n        border: 2px solid black;\r\n`;\r\n\r\nexport const StyledCanvasNode = styled.div`\r\n      \r\n        position: absolute;\r\n        height: ${({radius}) => `${radius * 2}px`};\r\n        width: ${({radius}) => `${radius * 2}px`};\r\n        border: 2px solid black;\r\n        border-radius: 50%;\r\n        top: ${({y}) => `${y}px`};\r\n        left: ${({x}) => `${x}px`};\r\n        color: white;\r\n\r\n        \r\n`;","import { keyframes } from 'styled-components';\r\n\r\nexport const popin = keyframes`\r\n    0% { opacity: 0; -webkit-transform: scale(0.5); }\r\n\t80% { opacity: 0.5; -webkit-transform: scale(1.1); }\r\n\t100% { opacity: 1; -webkit-transform: scale(1); }\r\n`; ","import styled from 'styled-components';\r\nimport { Table, Button } from 'reactstrap';\r\nimport { popin } from './animations';\r\n\r\n\r\nexport const StyledMap = styled(Table)`\r\n    ${'' /* border: 8px double black; */}\r\n    background-color: ${({ theme }) => theme.bg};\r\n    color: ${({ theme }) => theme.color};\r\n    border-color: ${({ theme }) => theme.border} !important;\r\n    border-radius: 5px;\r\n`; \r\n\r\nexport const StyledFocusElement = styled.td`\r\n    position: absolute;\r\n    z-index: 3;\r\n    border-radius: 5px;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100vh;\r\n    transition: all 0.5s cubic-bezier(0.71, 0.03, 0.56, 0.85);\r\n    opacity: 0;\r\n    display: none;\r\n    pointer-events: none;\r\n    overflow: hidden;\r\n    border: 2px solid rgba(129, 255, 249, 1);\r\n    box-shadow:0 0 14px 4px salmon;\r\n    &.active {\r\n        opacity: 1;\r\n        display: block;\r\n    }\r\n\r\n`;\r\n\r\nexport const StyledMapHead = styled.thead`\r\n    text-align: center;\r\n    \r\n`; \r\n\r\nexport const StyledMapBody = styled.tbody`\r\n    \r\n`; \r\n\r\n\r\nexport const StyledMapHeading = styled.th`\r\n    text-align: center;\r\n    min-width: 50px;\r\n    margin: 2px;\r\n    font-weight: 900;\r\n    max-height: 100%;\r\n    border-radius: 5px;\r\n    padding: .375rem .75rem;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n    line-height: 1.5;\r\n    background-clip: padding-box;\r\n    border: 1px solid ${({ theme }) => theme.border} !important;\r\n    border-radius: .25rem;\r\n    @media screen and (max-width: ${({ theme }) => theme.breakpoint}){\r\n        max-height: 70px;\r\n    }\r\n`; \r\n\r\nexport const StyledMapData = styled.td`\r\n     width: 200px;\r\n     margin: 2px;\r\n     border-radius: 5px;\r\n     border-color: ${({ theme }) => theme.border} !important;\r\n    \r\n`; \r\n\r\nexport const StyledMapDataAnimated = styled(StyledMapData)`\r\n    animation: ${popin} 0.5s ease once;\r\n`;\r\n\r\nexport const StyledMapRow = styled.tr`\r\n    display: flex;\r\n    @media screen and (max-width: ${({ theme }) => theme.breakpoint}){\r\n        align-items: center;\r\n        padding: 2% 25%;\r\n        & > * {\r\n            width: 100%;\r\n        }\r\n        & > ${StyledMapHeading}:first-of-type {\r\n            background: ${({ theme }) => theme.bgAlt};\r\n            color: ${({ theme }) => theme.bg};\r\n        }\r\n    }\r\n`;\r\n\r\nexport const StyledMapRowResponsive = styled(StyledMapRow)`\r\n    \r\n        \r\n    @media screen and (max-width: ${({ theme }) => theme.breakpoint}){\r\n        width: 100%;\r\n        \r\n        flex-direction: column;\r\n        justify-content: flex-start;\r\n        ${'' /* flex-wrap: wrap; */}\r\n        ${'' /* width: 100%; */}\r\n    }\r\n`;\r\n\r\nexport const StyledTermRow = styled(StyledMapRowResponsive)`\r\n    \r\n    height: auto;\r\n    @media screen and (max-width: ${({ theme }) => theme.breakpoint}){\r\n        height: auto;\r\n        \r\n    }\r\n`;\r\n\r\nexport const StyledButton = styled(Button)`\r\n    \r\n    display: inline-block;\r\n    border: none;\r\n    background: ${({ theme }) => theme.button};\r\n    color: #fff;\r\n    padding: 7px 20px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background: ${({ theme }) => theme.buttonHover};\r\n    }\r\n    &:hover, &:active, &:focus, &:target { \r\n        background: ${({ theme }) => theme.buttonHover};\r\n        border-color: transparent;\r\n        box-shadow: none;\r\n    }\r\n    \r\n`;\r\n\r\nexport const StyledButtonAdd = styled(StyledButton)`\r\n    &:hover {\r\n        background: rgb(130, 230, 210);\r\n    }\r\n`;\r\n\r\nexport const StyledButtonDelete = styled(StyledButton)`\r\n    &:hover {\r\n        background: rgb(247, 154, 154);\r\n    }\r\n`;\r\n\r\nexport const StyledButtonSave = styled(StyledButton)`\r\n    &:hover {\r\n        background: rgb(180, 200, 200);\r\n    }\r\n`;\r\n\r\nexport const StyledButtonReset = styled(StyledButton)`\r\n    &:hover {\r\n        background: rgb(228, 27, 27);\r\n    }\r\n`;\r\n\r\n\r\n\r\n\r\n","//!function () {\n  'use strict';\n\n  export function include (array, item) {\n    return array.indexOf(item) > -1;\n  }\n\n  export function _traverseDown (context, iterator) {\n    var doContinue = true;\n  \n    (function walkDown (node) {\n      var i, newContext;\n  \n      if (!doContinue) return;\n  \n      if (iterator(node) === false) {\n        //break the traversal loop if the iterator returns a falsy value\n        doContinue = false;\n      }\n      else {\n        for (i = 0; i < node.children.length; i++) {\n          newContext = node.children[i];\n          walkDown(newContext);\n        }\n      }\n    })(context);\n  }\n\n\n  export function _traverseUp (context, iterator) {\n    var i, node, doContinue;\n\n    while (context) {\n      if ( iterator(context) === false ) return;\n\n      for (i = 0; i < context.children.length; i++) {\n        node = context.children[i];\n        if ( iterator(node) === false ) return;\n      }\n      context = context.parent;\n    }\n  }\n  \n  \n  export function _traverse (context, iterator, callback) {\n    var visited = [],\n        callIterator = function (node) {\n          var id = node.id,\n              returned;\n  \n          if (! include(visited, id)) {\n            returned = iterator.call(node, node);\n            visited.push(id);\n  \n            if (returned === false) {\n              return returned;\n            }\n          }\n        },\n        i, node;\n  \n    callback(context, callIterator);\n  }\n  \n\n  export function _removeChild (node) {\n    var parent = node.parent, \n        child,\n        i;\n  \n    for (i = 0; i < parent.children.length; i++) {\n      child = parent.children[i];\n  \n      if (child === node) {\n        return parent.children.splice(i, 1).shift();\n      }\n    }\n  }\n  \n  export function nodeId (parent, separator) {\n    separator = separator || '/';\n    if (parent) {\n      return [parent.id, parent.children.length ].join(separator);\n    }\n    else {\n      return '0';\n    }\n  }\n  \n  \n  export function Arboreal (parent, data, id) {\n    this.depth = parent ? parent.depth + 1 : 0;\n    this.data = data || {};\n    this.parent = parent || null;\n    this.id = id || nodeId(parent);\n    this.children = [];\n  }\n  \n  Arboreal.parse = function (object, childrenAttr) {\n    var root, getNodeData = function (node) {\n          var attr, nodeData = {};\n          for (attr in node) {\n            if (attr !== childrenAttr) nodeData[attr] = node[attr];\n          }\n          return nodeData;\n        };\n  \n    (function walkDown(node, parent) {\n      var newNode, i;\n  \n      if (!parent) {\n        newNode = root = new Arboreal(null, getNodeData(node));\n      } else {\n        newNode = new Arboreal(parent, getNodeData(node));\n        parent.children.push(newNode);\n      }\n      if (childrenAttr in node) {\n        for (i = 0; i < node[childrenAttr].length; i++ ) {\n          walkDown(node[childrenAttr][i], newNode);\n        }\n      }\n    })(object);\n  \n    return root;\n  \n  };\n  \n  Arboreal.prototype.appendChild = function (data, id) {\n    var child = new Arboreal(this, data, id);\n    this.children.push(child);\n    return this;\n  };\n  \n  Arboreal.prototype.removeChild = function (arg) {\n    if (typeof arg === 'number' && this.children[arg]) {\n      return this.children.splice(arg, 1).shift();\n    }\n    if (arg instanceof Arboreal) {\n      return _removeChild(arg);\n    }\n    throw new Error(\"Invalid argument \"+ arg);\n  };\n  \n  Arboreal.prototype.remove = function () {\n    return _removeChild(this);\n  };\n  \n  \n  Arboreal.prototype.root = function () {\n    var node = this;\n  \n    if (!node.parent) {\n      return this;\n    }\n  \n    while (node.parent) {\n      node = node.parent;\n    }\n    return node;\n  };\n  \n  Arboreal.prototype.isRoot = function () {\n    return !this.parent;\n  };\n  \n  Arboreal.prototype.traverseUp = function (iterator) {\n    _traverse(this, iterator, _traverseUp);\n  };\n  \n  Arboreal.prototype.traverseDown = function (iterator) {\n    _traverse(this, iterator, _traverseDown);\n  };\n  \n  Arboreal.prototype.toString = function () {\n    var lines = [];\n  \n    this.traverseDown(function (node) {\n      var separator = '|- ', indentation = '',  i;\n  \n      if (node.depth === 0) {\n        lines.push(node.id);\n        return;\n      }\n      for (i = 0; i < node.depth; i++) {\n        indentation += ' ';\n      }\n      lines.push( indentation + separator + node.id);\n    });\n    return lines.join(\"\\n\");\n  };\n  \n  Arboreal.prototype.find = function (finder) {\n    var match = null,\n        iterator = (typeof finder === 'function') ?\n          finder : function (node) {\n            if (node.id === finder) {\n              match = node;\n              return false;\n            }\n          };\n  \n    this.traverseDown(function (node) {\n      if (iterator.call(this, node)) {\n        match = node;\n        return false;\n      }\n    });\n  \n    return match;\n  };\n  \n  Arboreal.prototype.path = function (path, separator) {\n    separator = separator || '/';\n    //allow path to begin with \n    if (path[0] === separator) path = path.substring(1);\n  \n    var indexes = path.split(separator),\n        index = null,\n        context = this,\n        i;\n  \n    for (i = 0; i < indexes.length; i++) {\n      index = parseInt(indexes[i], 10);\n      context = (context.children.length && context.children.length > index) ? \n        context.children[index] : null;\n    }\n  \n    return context;\n  };\n  \n  Arboreal.prototype.toArray = function () {\n    var nodeList = [];\n    this.traverseDown(function (node) {\n      nodeList.push(node);\n    });\n    return nodeList;\n  };\n\n  Arboreal.prototype.__defineGetter__(\"length\", function () {\n    return this.toArray().length;\n  });\n\n\n  // if (typeof module !== 'undefined' && module.exports) {\n  //   module.exports = Arboreal;\n  // } else {\n  //   this.Arboreal = Arboreal;\n  // }\n\n//}(this);\n","export const buildTreeObject = (prereq, courseCode) => {\r\n    let treeObject = {};\r\n        buildTreeNode(prereq, courseCode, treeObject);\r\n    return treeObject;\r\n}\r\n\r\nexport const buildTreeNode = (prereq, courseCode, treeObject) => {\r\n    treeObject[\"courseCode\"] = courseCode;\r\n    if (prereq.hasOwnProperty(courseCode)){\r\n        treeObject[\"prerequisites\"] = [];\r\n        prereq[courseCode].forEach(course => {\r\n            treeObject[\"prerequisites\"].push({});\r\n            buildTreeNode(prereq, course, treeObject[\"prerequisites\"][treeObject[\"prerequisites\"].length - 1]);\r\n        });\r\n        \r\n    }\r\n}\r\n\r\nexport const recommendCourse = (courses, prereq, term) => {\r\n    \r\n}","  \r\nexport default class CourseClass {\r\n    constructor(name, code, grade, credits){\r\n        this.name = name;\r\n        this.code = code;\r\n        this.grade = grade;\r\n        this.credits = credits;\r\n    }\r\n\r\n  static EmptyCourse()\r\n  {\r\n      return new CourseClass('NA', 'NA', 0.0, 1.0);\r\n  }\r\n};","import * as Arborel from '../lib/arboreal';\r\nimport { buildTreeObject } from '../lib/progression';\r\nimport React, { useEffect, useRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CourseClass from './model/CourseClass';\r\nimport { StyledCanvasContainer } from '../styles/components/sideviewStyles';\r\n\r\nfunction Node(props) {\r\n    const {ctx, x, y, radius, text} = props;\r\n    \r\n    if (props.parentX && props.parentY){\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(props.parentX, props.parentY);\r\n        ctx.stroke();\r\n    }\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n    ctx.stroke();\r\n    ctx.font = \"10px Arial\";\r\n    ctx.fillText(text, x, y);\r\n    console.log(\"RERENDERED\");\r\n}\r\n\r\n\r\nfunction Progression(props) {\r\n    const prereqObject = buildTreeObject(props.prereq, props.selectedCourse.code);\r\n    //console.log(props.prereq)\r\n    //console.log(prereqObject);\r\n    \r\n    console.log(\"RERENDERED PROGRESSION\");\r\n    var tree = Arborel.Arboreal.parse(prereqObject, 'prerequisites');\r\n    //let value = [];\r\n    let leafNodes = [];\r\n    let maxDepth = 0;\r\n    let maxSiblingCount = 1;\r\n    let nodeRadius = 20;\r\n    let distanceBetweenNodes = nodeRadius * 2 + 1;\r\n    let theCanvas = useRef(null);\r\n    let theContainer = useRef(null);\r\n    \r\n    tree.traverseDown(node => {\r\n        if (node.depth > maxDepth){\r\n            maxDepth = node.depth;\r\n        }\r\n        if (node.children.length > maxSiblingCount){\r\n            maxSiblingCount = node.children.length;\r\n        }\r\n    });\r\n    let rootNodePosition = distanceBetweenNodes \r\n    * Math.pow(maxSiblingCount, maxDepth);\r\n    let canvasDimentionY = rootNodePosition  * 2 + 100; // 100px padding\r\n    let canvasDimentionX = (distanceBetweenNodes + 50) * (maxDepth + 1) + 100;\r\n\r\n    function updateState(){\r\n        const ctx = theCanvas.current.getContext('2d');\r\n        ctx.clearRect(0,0, canvasDimentionX, canvasDimentionY);\r\n        \r\n        console.log(\"CANVAS CLEARED\");\r\n        tree\r\n        //.find(node => node.data.courseCode === nodeName)\r\n        .traverseDown(iterator);\r\n    }\r\n    \r\n    function iterator (node) {\r\n        let numOfSiblings = (node.parent)? node.parent.children.length : 1;\r\n        let positionInSibling = 0;\r\n        if (node.parent){\r\n            positionInSibling = node.parent.children.findIndex(n => n.data.courseCode === node.data.courseCode);\r\n        }\r\n\r\n        let nodePosition = 0;\r\n        if (numOfSiblings % 2 === 0){\r\n            let x = numOfSiblings / 2 - 0.5 - positionInSibling;\r\n            if (x < 0){\r\n                x = Math.floor(x);\r\n            }else{\r\n                x = Math.ceil(x);\r\n            }\r\n            nodePosition = x * -1;\r\n        }else{\r\n            nodePosition = (Math.floor(numOfSiblings / 2) - positionInSibling) * -1;\r\n        }\r\n        \r\n        //node.data.yPos = (node.parent)? node.parent.data.yPos + nodePosition * distanceBetweenNodes * maxSiblingCount : distanceBetweenNodes * maxDepth * maxSiblingCount;\r\n        \r\n        node.data.yPos = (node.parent)? node.parent.data.yPos \r\n        + nodePosition * distanceBetweenNodes \r\n        * Math.pow(maxSiblingCount, maxDepth - node.depth) \r\n        : rootNodePosition;\r\n        \r\n        // var depth = \"\", i;\r\n        // for (i = 1; i <= node.depth; i++) depth += \"--\";\r\n        //console.log([depth, node.data.courseCode].join(\" \"));\r\n        //value.push(<span>{[depth, node.data.courseCode].join(\">\")}</span>);\r\n        //value.push(node.data.courseCode);\r\n        // value.push(\r\n        // <StyledCanvasNode \r\n        //     x={(maxDepth - node.depth) * (distanceBetweenNodes + 20)} \r\n        //     y={node.data.yPos} \r\n        //     radius={nodeRadius}\r\n        // >\r\n        //     {node.data.courseCode} -//- {nodePosition}\r\n        // </StyledCanvasNode>\r\n        // );\r\n        const ctx = theCanvas.current.getContext('2d');\r\n        if (node.parent){\r\n            Node({\r\n                ctx, \r\n                y: node.data.yPos + 50, \r\n                x: (maxDepth - node.depth) * (distanceBetweenNodes + 20) + 50, \r\n                radius: nodeRadius, \r\n                text: `${node.data.courseCode}`, \r\n                parentY: node.parent.data.yPos + 50, \r\n                parentX: (maxDepth - node.parent.depth) * (distanceBetweenNodes + 20) + 50\r\n            });\r\n        }else{\r\n            Node({\r\n                ctx, \r\n                y: node.data.yPos + 50, \r\n                x: (maxDepth - node.depth) * (distanceBetweenNodes + 20) + 50, \r\n                radius: nodeRadius, \r\n                text: `${node.data.courseCode}`\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    function iteratorLeafNodes (node) {\r\n        if (node.children.length === 0){\r\n            leafNodes.push(node.data.courseCode);\r\n        }\r\n    }\r\n\r\n\r\n    // find all the leafNodes\r\n    tree\r\n    .traverseDown(iteratorLeafNodes);\r\n\r\n    const selectedCoursePrereq = props.prereq[props.selectedCourse.code];\r\n    useEffect(() => {\r\n        if (theContainer){\r\n            theContainer.current.scrollTo(0,rootNodePosition);\r\n        }\r\n        updateState();\r\n    },[props.selectedCourse, selectedCoursePrereq]);\r\n    \r\n    //value = value.reverse()\r\n    return (\r\n        <div>\r\n        <h2>Course prerequisites</h2>\r\n        \r\n        <StyledCanvasContainer\r\n            ref={theContainer}\r\n        >\r\n            {/* {value} */}\r\n            <canvas \r\n                //  style={{ background: 'darkgrey', border: '2px solid black'}} \r\n                ref={theCanvas} \r\n                width={canvasDimentionX} \r\n                height={canvasDimentionY}\r\n            ></canvas>\r\n        </StyledCanvasContainer>\r\n        <br />\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\n// PropTypes\r\nProgression.propType = {\r\n    prereq: PropTypes.object.isRequired,\r\n    selectedCourse: PropTypes.objectOf(CourseClass).isRequired,\r\n}\r\n\r\nexport default Progression\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { StyledButtonShow, StyledSelect, StyledContainer, StyleResponsiveContainer } from '../styles/components/sideviewStyles';\r\nimport { StyledButtonSave } from '../styles/components/programmapStyles';\r\nimport Progression from './Progression';\r\n\r\n\r\nexport class SideView extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            prereqCourses:[],\r\n            coreqCourses:[],\r\n\r\n        };\r\n    }\r\n    \r\n    // New onChange(for 'react-select' component)\r\n    onChange = (value, { name, action, removedValue }) => {\r\n        switch (action) {\r\n          case 'remove-value':\r\n            break;\r\n          case 'pop-value':\r\n            break;\r\n          case 'clear':\r\n            break;\r\n            default:\r\n        }\r\n        \r\n        this.setState({ \r\n            [name]: value \r\n        });\r\n    }\r\n\r\n    // Transforms a course into a format used by 'react-select'\r\n    getSelectOption = (course) => {\r\n        return {value: course.code, label: course.code };\r\n    }\r\n    // Transforms from 'react-select' option format to course code\r\n    getValueFromSelectOption = (option) => {\r\n        return option.value;\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Notify the user that their changes have been set\r\n        this.props.sendNotification(\"Changes set\");\r\n        \r\n        // New onSubmit code\r\n        // must extract the value from the react-select components\r\n        const code = this.props.selectedCourse.code;\r\n        console.log(\"submitted\");\r\n        \r\n        let pC = this.state.prereqCourses || [];\r\n\r\n\r\n        console.log(\"prereq\");\r\n        const prs = pC.map(option => this.getValueFromSelectOption(option));\r\n        console.log(prs);\r\n        this.props.handleClickEditPrereq(code, prs);\r\n        \r\n\r\n        let cC = this.state.coreqCourses || [];\r\n\r\n        console.log(\"coreq\");\r\n        const crs = cC.map(option => this.getValueFromSelectOption(option));\r\n        \r\n        console.log(crs);\r\n        this.props.handleClickEditCoreq(code, crs);\r\n        this.forceUpdate();\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps){\r\n        console.log(\"Inside componentDidUpdate\");\r\n        console.log(this.props);\r\n        console.log(prevProps);\r\n        \r\n        \r\n        // Only update the state (and then the UI) if the component\r\n        // receives a new set of props\r\n        console.log(\"Are the oldProp and newProp equal?\");\r\n        if (!this.equal(this.props, prevProps)){\r\n            console.log(\"UPDATED SIDEVIEW\");\r\n            this.updateState(this.props);\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    equal(first, second){\r\n        const result = JSON.stringify(first) === JSON.stringify(second);\r\n        console.log(\"result: \" + result);\r\n        return result;\r\n    }\r\n\r\n    \r\n\r\n    updateState(newProps){\r\n\r\n        const {selectedCourse, prereq, coreq, courses, selectedTerm} = newProps;\r\n\r\n        \r\n        if (!selectedCourse) return;\r\n\r\n        let selectedPrereqList = prereq[selectedCourse.code];\r\n        if (!selectedPrereqList){\r\n            selectedPrereqList = [];\r\n        }\r\n\r\n        console.log(\"selectedPrereqList\");\r\n        console.log(selectedPrereqList);\r\n        \r\n        let selectPrereq = courses.slice(0, selectedTerm);\r\n        let selectOptionsPrereq = [].concat.apply([], selectPrereq); // flatten the 2d array\r\n        \r\n        // get the full course details of the courses that are prereq\r\n        selectOptionsPrereq = selectOptionsPrereq\r\n        .filter(course => {\r\n            return course.code !== selectedCourse.code && selectedPrereqList.includes(course.code);\r\n        });\r\n        \r\n\r\n\r\n        let selectedCoreqIndex = coreq\r\n        .findIndex(cl => (cl.findIndex(c => c === selectedCourse.code) >= 0));\r\n        \r\n\r\n        let selectedCoreqList;\r\n        if (selectedCoreqIndex < 0){\r\n            selectedCoreqList = [];\r\n        }else{\r\n            selectedCoreqList = coreq[selectedCoreqIndex];\r\n        }\r\n\r\n        console.log(\"selectedCoreqList\");\r\n        console.log(selectedCoreqList);\r\n\r\n        \r\n        // get the full course details of the courses that are coreq\r\n        console.log(selectedTerm);\r\n        let selectOptionsCoreq = courses[selectedTerm];\r\n        if (selectOptionsCoreq == null){\r\n            selectOptionsCoreq = [];\r\n        }\r\n        selectOptionsCoreq = selectOptionsCoreq\r\n        .filter(course => {\r\n            return course.code !== selectedCourse.code && selectedCoreqList.includes(course.code) ;\r\n        });\r\n        \r\n\r\n        \r\n        this.setState({\r\n            prereqCourses: selectOptionsPrereq.map(c => this.getSelectOption(c)),\r\n            coreqCourses: selectOptionsCoreq.map(c => this.getSelectOption(c)),\r\n        });\r\n        \r\n            \r\n        \r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const shouldShow = (this.props.selectedCourse !== null);\r\n        \r\n        if (!shouldShow){\r\n            return (\r\n                <StyledContainer>\r\n                    <h2>Advanced Course Edit</h2>\r\n                    <p>You must select a course first</p>\r\n                    \r\n                </StyledContainer>\r\n            );\r\n        }\r\n        \r\n        \r\n        const {courses, selectedTerm, selectedCourse} = this.props;\r\n\r\n\r\n        // get the available options for the prereq courses\r\n        let selectPrereq = courses.slice(0, selectedTerm);\r\n        let selectOptionsPrereq = [].concat.apply([], selectPrereq); // flatten the 2d array\r\n        \r\n        selectOptionsPrereq = selectOptionsPrereq\r\n        .map((course) =>{\r\n            return this.getSelectOption(course);\r\n        });\r\n        \r\n        \r\n\r\n\r\n        // get the available options for the coreq courses\r\n        let selectOptionsCoreq = courses[selectedTerm];\r\n        \r\n        if (selectOptionsCoreq == null){\r\n            selectOptionsCoreq = [];\r\n        }\r\n        selectOptionsCoreq = selectOptionsCoreq\r\n        .filter(course => {\r\n            return course.code !== selectedCourse.code;\r\n        })\r\n        .map(course =>{\r\n            return this.getSelectOption(course);\r\n        });\r\n        \r\n\r\n\r\n       \r\n        const form = \r\n                <form\r\n                onSubmit={this.onSubmit}\r\n                sytle={formStyle}\r\n                className=\"sideViewForm\"\r\n                >\r\n                    \r\n                    \r\n                    <div>\r\n                        <label>Prerequisites</label>\r\n                        <br/>\r\n                        <StyledButtonShow\r\n                            style={buttonShowStyle}\r\n                            type=\"button\"\r\n                            onClick={this.props.handleClickShowPrereq.bind(this, selectedCourse.code)}\r\n                        >Highlight Pre-requisites</StyledButtonShow>\r\n                        <StyledSelect \r\n                            \r\n                            styles={customStyles}\r\n                            onChange={this.onChange}\r\n                            name=\"prereqCourses\"\r\n                            isMulti \r\n                            options={selectOptionsPrereq}\r\n                            value={this.state.prereqCourses}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>Corequisites</label>\r\n                        <br/>\r\n                        <StyledButtonShow \r\n                            style={buttonShowStyle}\r\n                            type=\"button\"\r\n                            onClick={this.props.handleClickShowCoreq.bind(this, selectedCourse.code)}\r\n                        >Highlight Co-requisites</StyledButtonShow>\r\n                        <StyledSelect \r\n                            \r\n                            styles={customStyles}\r\n                            onChange={this.onChange}\r\n                            name=\"coreqCourses\"\r\n                            isMulti \r\n                            options={selectOptionsCoreq}\r\n                            value={this.state.coreqCourses}\r\n                        />\r\n                    </div>\r\n                \r\n                    <div style={{textAlign:'center', fontWeight:'bold'}}>\r\n                        Remember to click accept changes after making changes\r\n                    </div>\r\n\r\n   \r\n                    <StyledButtonSave type=\"submit\">Accept Changes</StyledButtonSave>\r\n  \r\n                         \r\n                </form>\r\n                ;\r\n\r\n\r\n\r\n\r\n        return (\r\n            <StyledContainer>\r\n                \r\n                <h2>Advanced Course Edit</h2>\r\n                <h3>For course: {this.props.selectedCourse.code}</h3>\r\n                    \r\n                <StyleResponsiveContainer>\r\n                    {form}\r\n                    <Progression \r\n                            prereq={this.props.prereq}\r\n                            selectedCourse={selectedCourse}\r\n                    />  \r\n                </StyleResponsiveContainer>\r\n            </StyledContainer>\r\n        );\r\n        \r\n    }\r\n}   \r\n\r\n\r\n// PropTypes\r\nSideView.propType = {\r\n    sendNotification: PropTypes.func.isRequired,\r\n    handleClickEditCourse: PropTypes.func.isRequired,\r\n    courses: PropTypes.array.isRequired,\r\n    selectedTerm: PropTypes.number.isRequired,\r\n    selectedCourse: PropTypes.object.isRequired,\r\n    prereq: PropTypes.array.isRequired,\r\n    coreq: PropTypes.array.isRequired,\r\n    handleClickEditPrereq: PropTypes.func.isRequired,\r\n    handleClickEditCoreq: PropTypes.func.isRequired,\r\n}\r\n\r\n// const sideViewStyle = {\r\n//     background: 'lightgrey',\r\n//     width: '100%',\r\n//     textAlign: 'center',\r\n//     border: '2px solid grey',    \r\n//     overflowY: 'scroll',\r\n//     height: '100%', \r\n// }\r\n\r\nconst buttonShowStyle = {\r\n    \r\n}\r\n\r\n\r\nconst formStyle = {\r\n    border: 'none',\r\n    margin: '0 auto',\r\n}\r\n\r\n// Custom style for 'react-select', uses Emotion JS\r\nconst customStyles = {\r\n    container: (provided, state) => ({\r\n        ...provided,\r\n        // none of react-select's styles are passed to <Control />\r\n        \r\n      }),\r\n\r\n      control: (provided, state) => ({\r\n        ...provided,\r\n        overflowY: 'scroll',\r\n        height: 30,\r\n      }),\r\n\r\n\r\n}\r\n\r\n\r\nexport default SideView\r\n","import React from 'react'\r\n\r\nfunction ResetChanges(props) {\r\n    return (\r\n        <input\r\n            type=\"button\"\r\n            onClick={props.onResetClick}\r\n            style={buttonStyle}\r\n            className=\"btn btn-reset\"\r\n            value=\"Reset the changes\"\r\n        />\r\n    )\r\n}\r\nconst buttonStyle = {\r\n    borderRadius:'5px',\r\n    border:'2px outset black',\r\n    background: '#CF6679',\r\n    height: '100%',\r\n    color: '#000',\r\n};\r\n\r\nexport default ResetChanges;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Input, Label } from 'reactstrap';\r\n//import * as AllActionsCreators from '../redux/index';\r\n\r\n\r\nexport class CGPACalculator extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            term: this.props.courses.length, // last term\r\n            CGPA: 0,\r\n        };\r\n    }\r\n\r\n    convertNumericToGradePoint = (numericGrade, GPAStops) => {\r\n        let gradepoint = 0;\r\n        GPAStops.forEach(stop => {\r\n            //console.log(stop.lower, stop.upper, stop.gradepoint);\r\n            if (numericGrade >= stop.lower && numericGrade <= stop.upper){\r\n                gradepoint = stop.gradepoint;\r\n            }\r\n        });\r\n        return gradepoint;\r\n\r\n    }\r\n\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { courses, schools, currentSchool } = this.props;\r\n        const { term } = this.state;\r\n        if (term > -1){\r\n            let allcourses = courses.slice(0, term);\r\n            allcourses = [].concat.apply([], allcourses); // flatten the 2d array\r\n            if (schools[currentSchool] && schools[currentSchool].length !== 0){\r\n                let GPAStops = schools[currentSchool];\r\n                GPAStops = GPAStops.sort((a, b) => b.upper - a.upper);\r\n        \r\n                // convert numeric grades to grade points\r\n                allcourses = allcourses.map(course => ({grade: this.convertNumericToGradePoint(course.grade, GPAStops), credits: course.credits}));\r\n            }\r\n\r\n            console.log(allcourses);\r\n            let totalPoints = allcourses.reduce((prev, curr) => prev + curr.grade * curr.credits, 0);\r\n            let totalCredits = allcourses.reduce((prev, curr) => prev + curr.credits, 0);\r\n            if (totalCredits === 0) totalCredits = 1; // to prevent divide by 0\r\n            this.setState({\r\n                CGPA: Math.round(totalPoints/ totalCredits* 100) / 100,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                CGPA: 0\r\n            });\r\n        }\r\n    }\r\n\r\n    onChange = (e) => this.setState({[e.target.name]: e.target.value });\r\n\r\n    \r\n    render() {\r\n\r\n        const { courses, currentSchool, schools } = this.props;\r\n        const { term } = this.state;\r\n\r\n        const options = courses.map((cList, index) => {\r\n            return <option key={index+1} value={index + 1}>{index + 1}</option>;\r\n        });\r\n        options.unshift(\r\n            <option key={-1} value={-1}>Choose an option</option>\r\n        );\r\n\r\n\r\n        return (\r\n            \r\n            <form style={gradeFinderStyle}\r\n            onSubmit={this.onSubmit}\r\n            >\r\n                <Label>Using {!schools[currentSchool] ||schools[currentSchool].length === 0? 'no grade point conversion': currentSchool + '\\'s grade point conversion'}, </Label>\r\n                <Label style={{width: 'auto' }}>GPA of the courses up to term:</Label>\r\n                \r\n                <Input type=\"select\" id=\"exampleSelect\"\r\n                style={inputStyle} \r\n                name=\"term\"\r\n                onChange={this.onChange}\r\n                defaultValue={term}\r\n                >\r\n                    {options}\r\n                </Input>\r\n                \r\n                <input type=\"submit\" style={btnStyle} value=\"Calculate\"/>\r\n                \r\n                <Label style={{width: 'auto' }}>CGPA: {this.state.CGPA}</Label>\r\n                \r\n            </form>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n// PropTypes\r\nCGPACalculator.propType = {\r\n    courses: PropTypes.array.isRequired,\r\n}\r\n\r\nconst gradeFinderStyle = {\r\n    padding: '0px 15px',\r\n    borderRadius:'5px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: 'auto',\r\n    background: 'transparent',\r\n    border: '2px outset black',\r\n    color: 'white',\r\n    height: '100%'\r\n};\r\n\r\nconst btnStyle = {\r\n    display: 'inline-block',\r\n    border: '1px outset black',\r\n    background: '#677',\r\n    borderRadius: '5px',\r\n    color: '#fff',\r\n    padding: '2px 10px',\r\n    cursor: 'pointer',\r\n    height: 'auto',\r\n    margin: '1px 10px',\r\n};\r\n\r\nconst inputStyle = {\r\n    background: 'lightgrey',\r\n    borderRadius: '5px',\r\n    height: 'auto',\r\n    width: 'auto',\r\n    margin: '1px 10px',\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      schools: state.settings.schools,\r\n      currentSchool: state.settings.currentSchool,\r\n    }\r\n  }\r\n  \r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n\r\n    }\r\n  }\r\n  \r\n  export default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(CGPACalculator);\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { addCourse } from '../redux'\r\nimport { connect } from 'react-redux';\r\nimport { Form, Label, Input } from 'reactstrap';\r\nimport { StyledButtonAdd } from '../styles/components/programmapStyles';\r\n\r\nexport class AddCourse extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            courseCode: '',\r\n            message:'Enter the course code'\r\n        }\r\n    }\r\n\r\n    performValidation = (courseCode) => {\r\n            courseCode = courseCode.trim();\r\n            if (!courseCode){\r\n                return 2;\r\n            }\r\n            let termList = this.props.courses.slice();\r\n            let courseCodeFound = termList\r\n                .find(courseList => courseList\r\n                .find(course => course.code === courseCode) !== undefined);\r\n\r\n            if (courseCodeFound){\r\n                return 1;\r\n            }\r\n            return 0;\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!this.state.courseCode){\r\n            this.setState({\r\n                message: \"Must enter course code\"\r\n            });\r\n        }else{\r\n            let successCode = this.performValidation(this.state.courseCode);\r\n            \r\n            switch(successCode){\r\n                case 0:\r\n                    this.props.addCourse(this.props.term,this.state.courseCode);\r\n                    break;\r\n                case 1:\r\n                    this.setState({message: 'Course code already exist'});\r\n                    break;\r\n                case 2:\r\n                    this.setState({message: 'Invalid course code'});\r\n                    break;\r\n                default:\r\n                    this.setState({message:'Enter the course code'});\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    onChange = (e) => this.setState({[e.target.name]: e.target.value });\r\n\r\n    render() {\r\n        \r\n        return (\r\n      \r\n            <Form\r\n            onSubmit={this.onSubmit}\r\n            style={addCourseStyle}\r\n            >\r\n            <Label for=\"addCourseInput\">{this.state.message}</Label>\r\n                <Input \r\n                    id=\"addCourseInput\"\r\n                    style={inputStyle}\r\n                    type=\"text\"\r\n                    name=\"courseCode\"\r\n                    placeholder=\"Course Code Here...\"\r\n                    value={this.state.courseCode}\r\n                    onChange={this.onChange}\r\n\r\n                />\r\n                <StyledButtonAdd \r\n                    style={buttonStyle}\r\n                    type=\"submit\"\r\n                 >Add a new course (+)</StyledButtonAdd>\r\n            </Form>\r\n        \r\n        )\r\n    }\r\n}\r\n\r\n\r\n// PropTypes\r\nAddCourse.propType = {\r\n    handleClickAddCourse: PropTypes.func.isRequired,\r\n    term: PropTypes.number.isRequired,\r\n}\r\n\r\n\r\nconst addCourseStyle = {\r\n    display:'flex', \r\n    flexDirection:'column',\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n    height: 'auto',\r\n    minHeight: '300px',\r\n    width: '100%',\r\n}\r\n\r\nconst buttonStyle = {\r\n    marginTop:'2px',\r\n    // borderRadius: '5px',\r\n}\r\n\r\nconst inputStyle = {\r\n    marginTop:'2px',\r\n    // borderRadius: '5px',\r\n    // padding:'2px 4px',\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      courses: state.courses.courses\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      addCourse: (term, courseCode) => dispatch(addCourse(term, courseCode))\r\n    }\r\n  }\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AddCourse)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport CourseClass from './model/CourseClass';\r\nimport { FormGroup, Label, Input, Card } from 'reactstrap';\r\nimport { StyledButtonDelete, StyledButton, StyledButtonSave } from '../styles/components/programmapStyles';\r\n\r\n\r\nexport class Course extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            courseName: this.props.course.name,\r\n            grade: this.props.course.grade,\r\n            credits:this.props.course.credits,\r\n            message: 'Messages here',\r\n        }\r\n        this.selectButton = React.createRef();\r\n        this.form = React.createRef();\r\n        this.timeout = null;\r\n    }\r\n\r\n    performValidation = (editedCourse) => {\r\n        editedCourse.grade = Number(editedCourse.grade);\r\n        editedCourse.credits = Number(editedCourse.credits);\r\n        if (isNaN(editedCourse.grade)){\r\n            return 1;\r\n        }\r\n        if (isNaN(editedCourse.credits)){\r\n            return 2;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    \r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        let editedCourse = \r\n        new CourseClass(this.state.courseName, this.props.course.code, this.state.grade, this.state.credits);\r\n        \r\n        let successCode = this.performValidation(editedCourse);\r\n        switch(successCode){\r\n            case 0:\r\n                editedCourse.grade = Number(editedCourse.grade);\r\n                editedCourse.credits = Number(editedCourse.credits);\r\n                this.props.handleClickEditCourse(this.props.term, editedCourse);\r\n                this.setState({message: 'Messages here'});\r\n                break;\r\n            case 1:\r\n                this.setState({message: 'grade must be a number'});\r\n                break;\r\n            case 2:\r\n                this.setState({message: 'credits must be a number'});\r\n                break;\r\n            default:\r\n                this.setState({message: 'Messages here'});\r\n\r\n        }\r\n    }\r\n\r\n    onChange = (e) => this.setState({[e.target.name]: e.target.value });\r\n\r\n    onSelect = (e) => {\r\n        \r\n        if(this.form.current && !this.props.isSelected){\r\n            if (this.timeout)\r\n                clearTimeout(this.timeout);\r\n\r\n            this.timeout = setTimeout(() => {\r\n                //console.log(this);\r\n                // set the focus on the form element after the select button is cliked\r\n                // and setTimeout performs this after css removes the form from view\r\n                this.form.current.focus();\r\n                this.form.current.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"});\r\n            }, 0); // 2sec is the transition\r\n            //alert(this.selectButton);\r\n        }\r\n        this.props.handleClickSelectCourse(this.props.course.code);\r\n\r\n        this.props.toggleFocus(this.form, this.props.course);\r\n\r\n    }\r\n\r\n    render(){\r\n       const {code, name, grade, credits} = this.props.course;\r\n        let appliedclasses = \"course \";\r\n        appliedclasses += this.props.isHighlighted? \"highlighted \" : \" \";\r\n        appliedclasses += this.props.isSelected? \"selected \" : \" \";\r\n       return(\r\n           \r\n            <form\r\n            onSubmit={this.onSubmit}\r\n            style={courseStyle}\r\n            className={appliedclasses}\r\n            ref={this.form}\r\n            >\r\n            \r\n                <span\r\n                    className=\"dragholder\" \r\n                    style={dragholder}\r\n                      \r\n                >\r\n                \r\n                </span>\r\n                <Label style={{alignSelf:'center'}}>\r\n                    {this.state.message}\r\n                </Label>\r\n                <FormGroup>\r\n                    <span>\r\n                    <Label>Course Code:</Label>{' '}\r\n                    {code}\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label>Name:</Label>{' '}\r\n                    {name}\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label for=\"newNameInput\">New Name:</Label>{' '}\r\n                    <Input \r\n                        id=\"newNameInput\"\r\n                        style={inputStyle}\r\n                        type=\"text\"\r\n                        name=\"courseName\"\r\n                        value={this.state.courseName}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label>Grade:</Label>{' '}\r\n                    {grade}\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label for=\"newGradeInput\">New Grade:</Label>{' '}\r\n                    <Input \r\n                        id=\"newGradeInput\"\r\n                        style={inputStyle}\r\n                        type=\"text\"\r\n                        name=\"grade\"\r\n                        value={this.state.grade}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label>Credits/Units:</Label>{' '}\r\n                    {credits}\r\n                    </span>\r\n                    <br />\r\n                    <span>\r\n                    <Label for=\"newCreditInput\">New Credits:</Label>{' '}\r\n                    <Input \r\n                        id=\"newCreditInput\"\r\n                        style={inputStyle}\r\n                        type=\"text\"\r\n                        name=\"credits\"\r\n                        value={this.state.credits}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    </span>\r\n                </FormGroup>\r\n                <StyledButton \r\n                    style={buttonStyle}\r\n                    type=\"button\"\r\n                    onClick={\r\n                        this.onSelect\r\n                    }\r\n                >{this.props.isSelected?\"Deselect\":\"Select\"}</StyledButton>\r\n                <StyledButtonSave \r\n                    style={buttonStyle}\r\n                    type=\"submit\"\r\n                >Set changes</StyledButtonSave>\r\n                <StyledButtonDelete \r\n                    style={buttonStyle}\r\n                    type=\"button\"\r\n                    onClick={\r\n                        this.props.handleClickDeleteCourse.bind(this,this.props.term, this.props.course.code)\r\n                    }\r\n                >Delete(-)</StyledButtonDelete>\r\n                \r\n            </form>\r\n        \r\n       )\r\n\r\n         \r\n\r\n    }\r\n}\r\n\r\n\r\n// PropTypes\r\nCourse.propType = {\r\n    handleClickEditCourse: PropTypes.func.isRequired,\r\n    course: PropTypes.instanceOf(CourseClass).isRequired,\r\n    term: PropTypes.number.isRequired,\r\n    isSelected: PropTypes.bool.isRequired,\r\n    handleClickDeleteCourse: PropTypes.func.isRequired,\r\n    handleClickSelectCourse: PropTypes.func.isRequired,\r\n    isHighlighted: PropTypes.bool.isRequired,\r\n}\r\nconst dragholder = {\r\n    width: '100%',\r\n    background: 'lightgrey',\r\n    height: '15px',\r\n    borderRadius: '3px',\r\n    cursor: 'grab',\r\n    border: '1px solid black'\r\n}\r\n\r\nconst inputStyle = {\r\n    width: '100%',\r\n    background: 'lightgrey',\r\n    borderRadius: '5px',\r\n    padding:'2px 4px',\r\n}\r\n\r\nconst courseStyle = {\r\n    display:'flex', \r\n    flexDirection:'column',\r\n    borderRadius: '5px',\r\n    fontWeight: 'bold',\r\n    height: '100%',\r\n    minHeight: '300px',\r\n    width: '100%',\r\n    padding: '5px', \r\n};\r\n\r\nconst buttonStyle = {\r\n    marginTop:'2px',\r\n    borderRadius: '5px',\r\n}\r\n\r\nexport default Course","import React, { } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport AddCourse from './AddCourse';\r\nimport Course from './Course';\r\nimport { \r\n    StyledMapHeading,\r\n    StyledMapData,\r\n    StyledMapDataAnimated\r\n} from '../styles/components/programmapStyles';\r\n\r\nexport const Term = ({\r\n    termNumber, \r\n    courseList, \r\n    filteredCourses, \r\n    selectedCourse, \r\n    handleClickEditCourse, \r\n    handleClickDeleteCourse, \r\n    handleClickSelectCourse, \r\n    handleClickAddCourse,\r\n    // dragging props/events\r\n    handleDragStart,\r\n    handleDragEnter,\r\n    isDragging,\r\n    getDraggingStyles,\r\n\r\n    // focus\r\n    toggleFocus\r\n\r\n}) => {\r\n\r\n\r\n        const index = termNumber;\r\n        const termDisplay = (<StyledMapHeading key={index + \"x\" + -1} style={termDisplayStyle}>{index + 1}</StyledMapHeading>);\r\n        const coursesDisplay = \r\n        courseList.map((val, ind) => {\r\n                        \r\n            const isHighlighted = (filteredCourses.find(val1 => \r\n                (val1.code === val.code)) !== undefined);            \r\n\r\n            const isSelected = selectedCourse && selectedCourse.code === val.code;\r\n                \r\n            \r\n            return (\r\n            <StyledMapDataAnimated \r\n                className={isDragging?getDraggingStyles({termI: index, courseI: ind}):\"course\"}\r\n                onDragStart={(e) => {handleDragStart(e, {termI: index, courseI: ind})}}\r\n                onDragEnter={isDragging?(e) => {handleDragEnter(e, {termI: index, courseI: ind})}:null}\r\n                draggable\r\n                key={val.code}\r\n            >\r\n                <Course \r\n                    toggleFocus={toggleFocus}\r\n                    \r\n                    term={index}\r\n                    handleClickEditCourse={handleClickEditCourse}\r\n                    handleClickDeleteCourse={handleClickDeleteCourse}\r\n                    handleClickSelectCourse={handleClickSelectCourse}\r\n                    course={val}\r\n                    isSelected={isSelected}\r\n                    isHighlighted={isHighlighted}\r\n                    \r\n                />\r\n            </StyledMapDataAnimated>);\r\n        });\r\n        const newCourseButtonDisplay = (\r\n        <StyledMapData key={index + \"x\" + (coursesDisplay.length + 1)}>\r\n            <AddCourse \r\n                term={termNumber}\r\n                handleClickAddCourse={handleClickAddCourse}\r\n            />\r\n        </StyledMapData>);\r\n\r\n        return (\r\n            \r\n            [termDisplay, coursesDisplay, newCourseButtonDisplay]\r\n            \r\n        );\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n// PropTypes\r\nTerm.propType = {\r\n    courseList: PropTypes.array.isRequired,\r\n    termNumber: PropTypes.number.isRequired,\r\n    handleClickAddCourse: PropTypes.func.isRequired,\r\n    handleClickEditCourse: PropTypes.func.isRequired,\r\n    handleClickDeleteCourse: PropTypes.func.isRequired,\r\n    handleClickSelectCourse: PropTypes.func.isRequired,\r\n    selectedCourse: PropTypes.object.isRequired,\r\n    filteredCourses: PropTypes.array.isRequired,\r\n}\r\n\r\nconst termDisplayStyle = {\r\n    textAlign:'center'\r\n};\r\n\r\nexport default Term\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react'\r\nimport { StyledButtonAdd } from '../styles/components/programmapStyles';\r\n\r\n\r\nexport class AddTerm extends Component {\r\n    render() {\r\n        return (\r\n            \r\n        <StyledButtonAdd \r\n        type=\"button\" \r\n        onClick={this.props.handleClickAddTerm} \r\n        style={addNewTermStyle}\r\n        >\r\n            Add a new term\r\n        </StyledButtonAdd>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n// PropTypes\r\nAddTerm.propType = {\r\n    termNumber: PropTypes.number.isRequired,\r\n    handleClickAddTerm: PropTypes.func.isRequired,\r\n}\r\n\r\nconst addNewTermStyle = {\r\n    width:'100%',\r\n};\r\n\r\n\r\nexport default  AddTerm;","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react'\r\nimport { removeTerm } from '../redux'\r\nimport { connect } from 'react-redux';\r\nimport { StyledButtonDelete } from '../styles/components/programmapStyles';\r\n\r\nexport class RemoveTerm extends Component {\r\n    handleClick = () => {\r\n        if (this.props.courses.length <= 1){\r\n            return;\r\n        }\r\n     \r\n        //TODO: Should perform the delete function on each course in the term\r\n        this.props.removeTerm();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n        <StyledButtonDelete \r\n        type=\"button\" \r\n        onClick={this.handleClick} \r\n        style={removeTermStyle}\r\n        >\r\n            Remove the last term\r\n        </StyledButtonDelete>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// PropTypes\r\nRemoveTerm.propType = {\r\n    termNumber: PropTypes.number.isRequired,\r\n    handleClickRemoveTerm: PropTypes.func.isRequired,\r\n}\r\n\r\nconst removeTermStyle = {\r\n    width:'100%',\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      courses: state.courses.courses\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      removeTerm: () => dispatch(removeTerm())\r\n    }\r\n  }\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(RemoveTerm);","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport Term from './Term';\r\n//import { v3, v4, v5 } from 'uuid'\r\nimport PropTypes from 'prop-types';\r\nimport AddTerm from './AddTerm';\r\nimport RemoveTerm from './RemoveTerm';\r\nimport { dragEnter, changeFocus, changeStyle } from '../redux';\r\nimport { \r\n    StyledMap,\r\n    StyledMapHead,\r\n    StyledMapBody,\r\n    StyledMapRow,\r\n    StyledMapRowResponsive,\r\n    StyledTermRow,\r\n    StyledMapHeading,\r\n    StyledMapData,\r\n    StyledFocusElement\r\n} from '../styles/components/programmapStyles';\r\n\r\n\r\nexport const ProgramMap = ({\r\n    courses,\r\n    selectedCourse,\r\n    handleClickAddCourse,\r\n    handleClickEditCourse,\r\n    handleClickSelectCourse,\r\n    handleClickDeleteCourse,\r\n    filteredCourses,\r\n    maxCourseYears,\r\n    handleClickAddTerm,\r\n    handleClickRemoveTerm\r\n\r\n}) => {\r\n\r\n    const [dragging, setDragging]  = useState(false);\r\n    const dragItem = useRef();\r\n    const dragNode = useRef();\r\n    const dispatch = useDispatch();\r\n    //const [currentFocusedElm, setCurrentFocusedElm] = useState(null);\r\n    //const [style, setStyle] = useState(null);\r\n    const { currentFocusedElm, style } = useSelector(state => state.focus);\r\n   \r\n\r\n\r\n\r\n    const handleDragStart = (e, params) => {\r\n        const elementAtMouse = document.elementFromPoint(e.clientX, e.clientY);\r\n        if (!elementAtMouse.classList.contains('dragholder')){\r\n            console.log(\"skipped\");\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        console.log(\"drag started\", params);\r\n        dragItem.current = params;\r\n        console.log(e.target);\r\n\r\n        dragNode.current = e.target;\r\n        dragNode.current.addEventListener('dragend', handleDragEnd);\r\n        setTimeout(() => {\r\n            setDragging(true);\r\n        }, 0);\r\n    }\r\n\r\n    const handleDragEnd = () => {\r\n        console.log(\"drag ended\");\r\n\r\n        setDragging(false);\r\n        dragNode.current.removeEventListener('dragend', handleDragEnd);\r\n        dragItem.current = null;\r\n        dragNode.current = null;\r\n\r\n    }\r\n\r\n    const handleDragEnter = (e, params) => {\r\n        console.log(\"drag enter\", params);\r\n        const currentItem = dragItem.current;\r\n        if (e.target !== dragNode.current){\r\n        //if (JSON.stringify(params) !== JSON.stringify(currentItem)){\r\n            console.log(\"Target no the same\");\r\n            dispatch(dragEnter(params, currentItem));\r\n            dragItem.current = params;\r\n        }\r\n\r\n    }\r\n\r\n    const getDraggingStyles = (params) => {\r\n        const currentItem = dragItem.current;\r\n        if (currentItem.termI === params.termI && currentItem.courseI === params.courseI)\r\n            return 'current'\r\n        return 'course';\r\n    }\r\n\r\n    const toggleFocus = (element, focusedCourse) => {\r\n        if(!selectedCourse || (selectedCourse !== focusedCourse && currentFocusedElm !== element)){\r\n            //setCurrentFocusedElm(element);\r\n            dispatch(changeFocus(element));\r\n        }else{\r\n            //setCurrentFocusedElm(null);\r\n            dispatch(changeFocus(null));\r\n        }\r\n    }\r\n\r\n    const outlineElementStyle = (element) => {\r\n        return element\r\n            ? {\r\n                  width: `${element.offsetWidth}px`,\r\n                  height: `${element.offsetHeight}px`,\r\n                  transform: `translateX(${element.offsetLeft}px) translateY(${element.offsetTop}px)`,\r\n                \r\n            }\r\n            : style;\r\n    };\r\n\r\n\r\n    \r\n    useEffect(() => {\r\n        if (currentFocusedElm) {\r\n            const style = outlineElementStyle(currentFocusedElm.current);\r\n            //setStyle(style);\r\n            dispatch(changeStyle(style));\r\n        }\r\n    }, [currentFocusedElm, courses]);\r\n\r\n\r\n    const rows = courses.map((courseList, index) => {\r\n        const isSelected = selectedCourse && (courseList.findIndex(c => c.code === selectedCourse.code) !== -1);\r\n        \r\n        return <StyledTermRow \r\n                onDragEnter={dragging && !courseList.length?(e) => handleDragEnter(e, {termI: index, courseI: 0}):null}\r\n                className={isSelected?\"selected-term\":\"\"}\r\n                key={index}\r\n                scope=\"row\"\r\n                \r\n                >\r\n                    {<Term \r\n                    handleDragStart={handleDragStart}\r\n                    handleDragEnter={handleDragEnter}\r\n                    isDragging={dragging}\r\n                    getDraggingStyles={getDraggingStyles}\r\n\r\n                    toggleFocus={toggleFocus}\r\n\r\n                    selectedCourse={selectedCourse}\r\n                    termNumber={index}\r\n                    courseList={courseList}\r\n                    handleClickAddCourse={handleClickAddCourse}\r\n                    handleClickEditCourse={handleClickEditCourse}\r\n                    handleClickSelectCourse={handleClickSelectCourse}\r\n                    handleClickDeleteCourse={handleClickDeleteCourse}\r\n                    filteredCourses={filteredCourses}\r\n                    />}\r\n                </StyledTermRow>;\r\n    });\r\n    return (\r\n    <StyledMap\r\n        responsive\r\n        bordered\r\n        size=\"sm\"\r\n        \r\n    > \r\n        <StyledMapHead>\r\n            <StyledMapRowResponsive>\r\n                <StyledMapHeading>Term</StyledMapHeading>\r\n                <StyledMapHeading \r\n                style={{width: '100%'}}\r\n                colSpan={maxCourseYears + 1}\r\n                >\r\n                    Courses\r\n                </StyledMapHeading>\r\n            </StyledMapRowResponsive>\r\n        </StyledMapHead>\r\n        <StyledMapBody>\r\n            <tr style={{position:'relative', top:'-4vmin', left:'0px'}}>\r\n                <StyledFocusElement \r\n                    className={`${selectedCourse && currentFocusedElm ? `active` : ``}`}\r\n                    style={style}\r\n                />\r\n            </tr>\r\n            {rows}\r\n            <StyledMapRow>\r\n                <StyledMapData\r\n                style={{width: '100%'}} \r\n                key={rows.length + 1}\r\n                colSpan={maxCourseYears + 2}>\r\n                <AddTerm \r\n                termNumber={rows.length + 1}\r\n                handleClickAddTerm={handleClickAddTerm}\r\n                />\r\n                </StyledMapData>\r\n            </StyledMapRow>\r\n            <StyledMapRow>\r\n                <StyledMapData \r\n                style={{width: '100%'}}\r\n                key={rows.length + 2}\r\n                colSpan={maxCourseYears + 2}>\r\n                <RemoveTerm \r\n                termNumber={rows.length - 1}\r\n                handleClickRemoveTerm={handleClickRemoveTerm}\r\n                />\r\n                </StyledMapData>\r\n            </StyledMapRow>\r\n        </StyledMapBody>\r\n    </StyledMap>\r\n    )\r\n}\r\n\r\n// PropTypes\r\nProgramMap.propType = {\r\n    handleClickAddTerm: PropTypes.func.isRequired,\r\n    handleClickRemoveTerm: PropTypes.func.isRequired,\r\n    handleClickAddCourse: PropTypes.func.isRequired,\r\n    handleClickEditCourse: PropTypes.func.isRequired,\r\n    handleClickDeleteCourse: PropTypes.func.isRequired,\r\n    handleClickSelectCourse: PropTypes.func.isRequired,\r\n    maxCourseYears: PropTypes.number.isRequired,\r\n    courses: PropTypes.array.isRequired,\r\n    selectedCourse: PropTypes.object.isRequired,\r\n    filteredCourses: PropTypes.array.isRequired\r\n}\r\n\r\n\r\n\r\nexport default ProgramMap\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { \r\n  StyledInner,\r\n  StyledInnerTop,\r\n  StyledInnerBottom,\r\n  StyledInnerBottomHead,\r\n  StyledInnerBottomFoot\r\n} from '../styles/components/homeStyles';\r\n\r\n\r\nimport SaveChanges from './SaveChanges';\r\nimport GradeFilter from './GradeFilter';\r\nimport SideView from './SideView';\r\nimport ResetChanges from './ResetChanges';\r\nimport CGPACalculator from './CGPACalculator';\r\nimport ProgramMap from './ProgramMap';\r\nimport { notify } from './Notification';\r\nimport App from '../App';\r\nimport * as CourseActionCreators from '../redux';\r\n\r\n\r\nclass Home extends Component {\r\n\r\n  resetChanges = () => {\r\n    let confirmed = window.confirm(\"Are you sure you want to reset to the last saved changes?\");\r\n    if (!confirmed){\r\n      return;\r\n    }\r\n    this.props.populateCourseData();\r\n    this.props.clearFilter();\r\n    this.props.clearSelected();\r\n\r\n  }\r\n\r\n\r\n  /* Local Storage Saving / Retrieving */\r\n  saveCourseData = () =>{\r\n    let confirmed = window.confirm(\"Are you sure you want to save all the changes?\");\r\n    if (!confirmed){\r\n      return;\r\n    }\r\n    //alert(\"saving \" + JSON.stringify(this.state.courses) + \" into localStorage.\");\r\n    localStorage.setItem(App.localStorageKey, JSON.stringify(this.props.courses));\r\n    localStorage.setItem(App.localStorageKey+\"prereq\", JSON.stringify(this.props.prereq));\r\n    localStorage.setItem(App.localStorageKey+\"coreq\", JSON.stringify(this.props.coreq));\r\n    this.sendNotification('Changes saved');\r\n  }\r\n\r\n\r\n\r\n  // Finding the max number of courses out of all terms\r\n  getMaxCourseForYears = () => {\r\n      const max = Math.max(...this.props.courses.map((val, index) => val.length));\r\n      return max;\r\n  }\r\n\r\n  sendNotification = (msg) => {\r\n    notify(msg);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n        <React.Fragment>\r\n            <StyledInner>\r\n              <StyledInnerTop>\r\n                <ProgramMap \r\n                handleClickAddTerm={this.props.addTerm}\r\n                handleClickRemoveTerm={this.props.removeTerm}\r\n                handleClickAddCourse={this.props.addCourse}\r\n                handleClickEditCourse={this.props.editCourse}\r\n                handleClickSelectCourse={this.props.toggleSelect}\r\n                handleClickDeleteCourse={this.props.deleteCourse}\r\n                maxCourseYears={this.getMaxCourseForYears()}\r\n                courses={this.props.courses}\r\n                selectedCourse={this.props.selectedCourse}\r\n                filteredCourses={this.props.filteredCourses}\r\n                />\r\n            </StyledInnerTop>\r\n            <StyledInnerBottom \r\n              expanded={(this.props.selectedCourse !== null)}\r\n            >\r\n              <StyledInnerBottomHead>\r\n                <SaveChanges\r\n                    onSaveClick={() => this.saveCourseData()}\r\n                />\r\n                <ResetChanges \r\n                    onResetClick={() => this.resetChanges()}\r\n                />\r\n                <GradeFilter\r\n                    onClickFilterByCategory={this.props.filterByCategory}\r\n                />\r\n                <CGPACalculator \r\n                    courses={this.props.courses}\r\n                /> \r\n              </StyledInnerBottomHead>\r\n              <StyledInnerBottomFoot>\r\n                    \r\n                <SideView \r\n                    sendNotification={this.sendNotification}\r\n                    handleClickEditCourse={this.props.editCourse}\r\n                    courses={this.props.courses}\r\n                    selectedTerm={this.props.selectedTerm}\r\n                    selectedCourse={this.props.selectedCourse}\r\n                    prereq={this.props.prereq}\r\n                    coreq={this.props.coreq}\r\n                    handleClickEditPrereq={this.props.editPrereq}\r\n                    handleClickEditCoreq={this.props.editCoreq}\r\n                    handleClickShowPrereq={this.props.showPrereq}\r\n                    handleClickShowCoreq={this.props.showCoreq}\r\n                />\r\n              </StyledInnerBottomFoot>\r\n            </StyledInnerBottom>\r\n          </StyledInner>\r\n        </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      courses: state.courses.courses,\r\n      filteredCourses: state.courses.filteredCourses,\r\n      selectedCourse: state.courses.selectedCourse,\r\n      selectedTerm: state.courses.selectedTerm,\r\n      prereq: state.courses.prereq,\r\n      coreq: state.courses.coreq\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      addCourse: (term, courseCode) => dispatch(CourseActionCreators.addCourse(term, courseCode)),\r\n      editCourse: (term, editedCourse) => dispatch(CourseActionCreators.editCourse(term, editedCourse)),\r\n      deleteCourse: (term, courseCode) => dispatch(CourseActionCreators.deleteCourse(term, courseCode)),\r\n      addTerm: () => dispatch(CourseActionCreators.addTerm()),\r\n      removeTerm: () => dispatch(CourseActionCreators.removeTerm()),\r\n      toggleSelect: (courseCode) => dispatch(CourseActionCreators.toggleSelectCourse(courseCode)),\r\n      clearSelected: () => dispatch(CourseActionCreators.clearSelected()),\r\n      filterByCategory: (category, value) => dispatch(CourseActionCreators.filterByCategory(category, value)),\r\n      clearFilter: () => dispatch(CourseActionCreators.clearFilter()),\r\n      editPrereq: (courseCode, prereqCourses) => dispatch(CourseActionCreators.editPrereq(courseCode, prereqCourses)),\r\n      editCoreq: (courseCode, coreqCourses) => dispatch(CourseActionCreators.editCoreq(courseCode, coreqCourses)),\r\n      showPrereq: (courseCode) => dispatch(CourseActionCreators.showPrereq(courseCode)),\r\n      showCoreq: (courseCode) => dispatch(CourseActionCreators.showCoreq(courseCode)),\r\n      loadCourses: (courses, prereq, coreq) => dispatch(CourseActionCreators.loadCourses(courses, prereq, coreq))\r\n    }\r\n  }\r\n  export default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(Home);","import * as settingsTypes from './settingsTypes';\r\nimport AllSchools from '../../data/SchoolData.json';\r\nexport const customSchoolName = 'custom';\r\nconst customSchoolInitialState = [];\r\nconst schools = { \r\n    ...AllSchools, \r\n    [customSchoolName]: customSchoolInitialState, \r\n    'none' : [] \r\n};\r\n\r\nconst initialState = {\r\n    darkmode: false,\r\n    schools,\r\n    currentSchool: 'none'\r\n}\r\n\r\n\r\nconst settingsReducer = (state = initialState, action) => {\r\n    \r\n    switch(action.type){\r\n        case settingsTypes.TOGGLE_DARKMODE:\r\n            return {\r\n                ...state,\r\n                darkmode: action.payload.darkmode\r\n            };\r\n        case settingsTypes.SET_CURRENT_SCHOOL:\r\n            return {\r\n                ...state,\r\n                currentSchool: action.payload.currentSchool\r\n            };\r\n        case settingsTypes.SET_SCHOOL_GRADES:\r\n            return {\r\n                ...state,\r\n                schools: (action.payload.schoolName !== 'none')\r\n                ? {...schools, [action.payload.schoolName]: action.payload.schoolGrades}\r\n                : {...schools, [state.currentSchool]: action.payload.schoolGrades}\r\n            }\r\n\r\n        case settingsTypes.LOAD_SETTINGS:\r\n            return Object.assign({}, state, action.payload.items);\r\n        case settingsTypes.LOAD_CUSTOM_SCHOOL:\r\n            return {\r\n                ...state,\r\n                schools: {\r\n                    ...schools, \r\n                    [customSchoolName]: action.payload.customSchoolSettings\r\n                }\r\n            }\r\n        default: return state;\r\n    }\r\n\r\n}\r\nexport default settingsReducer; ","import React, { useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as AllActionCreators from '../redux';\r\nimport { Table, Form, Input, Button, Label } from 'reactstrap';\r\nimport App from '../App';\r\nimport { customSchoolName } from '../redux/settings/settingsReducer';\r\n\r\nconst gradeLetters = ['A+', 'A', 'A-', 'B+', 'B', 'B-', 'C+', 'C', 'C-', 'D+', 'D', 'D-', 'F', 'Not Set'];\r\n\r\nfunction GPASettings(props) \r\n{\r\n    \r\n    const { currentSchool, schools } = useSelector(state => state.settings);\r\n    const dispatch = useDispatch();\r\n    //console.log(schools[currentSchool]);\r\n    const [GPAStops, setGPAStops] = useState(schools[currentSchool]);\r\n    const [state, setState] = useState({lower: 0, upper: 0, gradepoint: 0, letter: 'Not Set'});\r\n        \r\n    useEffect(() => {\r\n        localStorage.setItem(App.localStorageKey+\"currentSchool\", JSON.stringify(currentSchool));\r\n        setGPAStops(schools[currentSchool]);\r\n        \r\n    },[currentSchool, schools]);\r\n\r\n    const customSchoolGPAStops = schools[customSchoolName];\r\n    useEffect(() => {\r\n        localStorage.setItem(App.localStorageKey+customSchoolName, JSON.stringify(customSchoolGPAStops));\r\n    },[customSchoolGPAStops, schools]);\r\n    \r\n    \r\n\r\n    const removeAtIndex = (e, index) => {\r\n        setGPAStops(GPAStops.slice(0, index).concat(GPAStops.slice(index + 1, GPAStops.length)));\r\n    }\r\n\r\n\r\n    const onChange = (e) => {\r\n        setState({...state, [e.currentTarget.name]:e.currentTarget.value});\r\n    }\r\n\r\n    const saveSchoolData = (e) => {\r\n        dispatch(AllActionCreators.setSchoolGrades(currentSchool, GPAStops));\r\n        \r\n    }\r\n\r\n    const onSchoolChange = (e) => {\r\n        const { value } = e.currentTarget;\r\n        dispatch(AllActionCreators.setCurrentSchool(value));\r\n        \r\n\r\n    }\r\n    const addStop = (e) => {\r\n        e.preventDefault();\r\n        const newStop = state;\r\n\r\n\r\n\r\n        const newStops = GPAStops.concat(newStop).sort((a, b) => b.upper - a.upper);\r\n        \r\n        setGPAStops(newStops);\r\n\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <Form\r\n                onSubmit={addStop}\r\n            >\r\n            <Label htmlFor=\"school\">School</Label>\r\n                <Input type=\"select\" name=\"school\" id=\"school\" onChange={onSchoolChange}  value={currentSchool}>\r\n                    {Object.keys(schools).map(val => \r\n                    (<option key={val} value={val}>{val}</option>)\r\n                    )}\r\n                </Input>\r\n                <Table\r\n                    striped\r\n                    size=\"sm\"\r\n                >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Lower Bound</th>\r\n                            <th>Upper Bound</th>\r\n                            <th>Grade Point</th>\r\n                            <th>Letter</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        \r\n                        {GPAStops.map((stop, index) => {\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{stop.lower}</td>  \r\n                                    <td>{stop.upper}</td>  \r\n                                    <td>{stop.gradepoint}</td>  \r\n                                    <td>{stop.letter}</td>\r\n                                    <td>\r\n                                    {\r\n                                        (currentSchool === customSchoolName &&\r\n                                            (\r\n                                                <Button \r\n                                                    onClick={(e) => removeAtIndex(e, index)}\r\n                                                >\r\n                                                    Remove\r\n                                                </Button>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                    </td>  \r\n                                </tr>\r\n                            );\r\n                        })}\r\n                        {\r\n                            (currentSchool === customSchoolName &&\r\n                                (\r\n                                    <tr>\r\n                                        <td><Input type=\"number\" max=\"100\" min=\"0\" name=\"lower\" id=\"lower\" placeholder=\"0\" onChange={onChange} value={state.lower}/></td>  \r\n                                        <td><Input type=\"number\" max=\"100\" min=\"0\" name=\"upper\" id=\"upper\" placeholder=\"0\" onChange={onChange} value={state.upper}/></td>  \r\n                                        <td><Input type=\"number\" min=\"0\" name=\"gradepoint\" id=\"gradepoint\" placeholder=\"0\" onChange={onChange}  value={state.gradepoint}/></td>  \r\n                                        <td>\r\n                                            <Input type=\"select\" name=\"letter\" id=\"letter\" onChange={onChange}  value={state.letter}>\r\n                                                {gradeLetters.map(val => \r\n                                                (<option key={val} value={val}>{val}</option>)\r\n                                                )}\r\n                                    \r\n                                            </Input>\r\n                                        </td>\r\n                                        <td>\r\n                                            \r\n                                                        <Button \r\n                                                            type=\"submit\"\r\n                                                        >\r\n                                                            Add\r\n                                                        </Button>\r\n                                                \r\n                                            \r\n                                        </td>            \r\n                                    </tr>\r\n                                )\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </Table>\r\n                \r\n                {\r\n                    (currentSchool === customSchoolName &&\r\n                        (\r\n                            <Button \r\n                                onClick={saveSchoolData}\r\n                            >\r\n                                Save\r\n                            </Button>\r\n                        )\r\n                    )\r\n                }\r\n                       \r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GPASettings\r\n","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as AllActionsCreators from '../redux/index';\r\nimport { CustomInput } from 'reactstrap';\r\nimport GPASettings from './GPASettings';\r\nimport App from '../App';\r\nfunction Settings(props) {\r\n  const changeDarkmode = () => {\r\n    props.toggleDarkmode();\r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(App.localStorageKey+\"darkmode\", JSON.stringify(props.darkmode));\r\n  },[props.darkmode]);\r\n    return (\r\n        <div>\r\n          <CustomInput checked={props.darkmode} onChange={changeDarkmode} type=\"switch\" id=\"nightModeSwitch\" name=\"nightModeSwitch\" label=\"Toggle NightMode\" /> \r\n          <GPASettings /> \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      darkmode: state.settings.darkmode,\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n      toggleDarkmode: () => dispatch(AllActionsCreators.toggleDarkmode()),\r\n    }\r\n  }\r\n\r\nexport default connect(\r\n    mapStateToProps, \r\n    mapDispatchToProps\r\n)(Settings);\r\n","import React, { Component } from 'react';\r\nimport { HashRouter as Router, Route } from 'react-router-dom';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as AllActionsCreators from './redux/index';\r\nimport './App.css';\r\nimport { StyledAppContainer } from './styles/components/appStyles';\r\nimport GlobalStyles from '../src/styles/base/base';\r\nimport Header from './componenets/layout/Header';\r\nimport About from './componenets/pages/About';\r\nimport Notification from './componenets/Notification';\r\nimport Instructions from './componenets/pages/Instructions';\r\nimport Home from './componenets/Home';\r\nimport Settings from './componenets/Settings';\r\nimport { customSchoolName } from './redux/settings/settingsReducer';\r\n\r\nconst defaultTheme = {\r\n  bg: \"#eee\",\r\n  bgAlt: '#999',\r\n  button: '#899',\r\n  buttonHover: '#899',\r\n  sidePanel: 'lightgrey',\r\n  border: '#222',\r\n  color: \"#495057\",\r\n  breakpoint: \"200px\",\r\n}\r\n\r\nconst darkmodeTheme = {\r\n  ...defaultTheme,\r\n  bg: '#555',\r\n  bgAlt: '#888',\r\n  button: '#777',\r\n  buttonHover: '#777',\r\n  sidePanel: '#888',\r\n  border: '#ced4da',\r\n  color: \"white\"\r\n}\r\n\r\nclass App extends Component {\r\n  static apiurlpartial = '';\r\n  static localStorageKey = 'courses';\r\n\r\n  componentDidMount = () => {\r\n    this.restoreSettings();\r\n    this.populateCourseData();\r\n    window.addEventListener('resize', this.onWindowResize);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener('resize', this.onWindowResize);\r\n  }\r\n\r\n  onWindowResize = () => {\r\n    this.props.toggleSelected();\r\n  }\r\n\r\n  restoreSettings = () => {\r\n\r\n    let currentSchool = localStorage.getItem(App.localStorageKey+\"currentSchool\")? JSON.parse(localStorage.getItem(App.localStorageKey+\"currentSchool\")): this.props.currentSchool;\r\n    if (!this.props.schools[currentSchool]){\r\n      currentSchool = customSchoolName;\r\n    }\r\n    this.props.loadSettings(\r\n      {\r\n        darkmode: localStorage.getItem(App.localStorageKey+\"darkmode\")? JSON.parse(localStorage.getItem(App.localStorageKey+\"darkmode\")): this.props.darkmode,\r\n        currentSchool: currentSchool\r\n      }\r\n    );\r\n    this.props.loadCustomSchool(\r\n      localStorage.getItem(App.localStorageKey+customSchoolName)? JSON.parse(localStorage.getItem(App.localStorageKey+customSchoolName)): this.props.schools[customSchoolName]\r\n    );\r\n  }\r\n\r\n  populateCourseData = () =>{\r\n    const dataStringCourses = localStorage.getItem(App.localStorageKey);\r\n    const dataStringPrereq = localStorage.getItem(App.localStorageKey+\"prereq\");\r\n    const dataStringCoreq = localStorage.getItem(App.localStorageKey+\"coreq\");\r\n\r\n    if (!dataStringCourses){\r\n      return;\r\n    }\r\n    const dataObjectCourses = JSON.parse(dataStringCourses);\r\n    const dataObjectPrereq = JSON.parse(dataStringPrereq);\r\n    const dataObjectCoreq = JSON.parse(dataStringCoreq);\r\n\r\n\r\n    this.props.loadCourses(\r\n      dataObjectCourses, \r\n      (dataObjectPrereq)?dataObjectPrereq:this.props.prereq,\r\n      (dataObjectCoreq)?dataObjectCoreq:this.props.coreq\r\n    );\r\n\r\n  }\r\n\r\n\r\n  render(){\r\n\r\n      return(\r\n        <ThemeProvider theme={this.props.darkmode?darkmodeTheme:defaultTheme}>\r\n          <GlobalStyles />\r\n          <Router>\r\n            <div className=\"App\">\r\n              <StyledAppContainer>\r\n                <Header />\r\n                <Notification />\r\n                <Route exact path=\"/\" render={props => (\r\n                  <Home \r\n                  populateCourseData={this.populateCourseData}\r\n                  />\r\n                )}/>\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/instructions\" component={Instructions} />\r\n                <Route path=\"/settings\" component={Settings} />\r\n              </StyledAppContainer>\r\n            </div>\r\n          </Router>\r\n        </ThemeProvider>\r\n      );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    darkmode: state.settings.darkmode,\r\n    schools: state.settings.schools,\r\n    currentSchool: state.settings.currentSchool,\r\n    prereq: state.courses.prereq,\r\n    coreq: state.courses.coreq\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleDarkmode: () => dispatch(AllActionsCreators.toggleDarkmode()),\r\n    loadSettings: (items) => dispatch(AllActionsCreators.loadSettings(items)),\r\n    loadCourses: (courses, prereq, coreq) => dispatch(AllActionsCreators.loadCourses(courses, prereq, coreq)),\r\n    loadCustomSchool: (customSchoolSettings) => dispatch(AllActionsCreators.loadCustomSchool(customSchoolSettings)),\r\n    toggleSelected: () => dispatch(AllActionsCreators.toggleSelectCourse())\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as courseTypes from './courseTypes';\r\n\r\nimport CourseClass from '../../componenets/model/CourseClass';\r\n\r\nconst initialState = {\r\n    courses: [[]], // 2d array, 1st dim = terms, 2nd dim = courses\r\n    filteredCourses: [], // array of courses to highlight\r\n    prereq: {}, // will be treated as a map/dictionary, stores all prerequisites for each course, values are arrays\r\n    coreq: [], // will be treated as an array of sets(but implmented as a 2d array)\r\n    selectedCourse: null, // current selected course\r\n    selectedTerm: null\r\n}\r\n\r\n// These are sample of the data that could be in the state\r\nconst SAMPLE_COURSES = [\r\n    [\r\n      new CourseClass(\"OO Prog\", \"PROG10082\", 3.3, 6),\r\n      new CourseClass(\"Intro to Data.\", \"TELE13167\", 2.6, 3),\r\n      new CourseClass(\"Web Dev.\", \"SYST10049\", 3.5, 3)\r\n    ],\r\n    [\r\n      new CourseClass(\"OO Prog 2\", \"PROG24178\", 3.0, 6),\r\n      new CourseClass(\"Data Netw. Design\", \"TELE33324\", 2.2, 3),\r\n      new CourseClass(\"Web Prog.\", \"SYST10199\", 2.6, 3)\r\n    ],\r\n    [\r\n      new CourseClass(\"JAVA\", \"PROG32758\", 3.3, 6),\r\n      new CourseClass(\"Comp. Sec.\", \"INFO24178\", 3.3, 3),\r\n      new CourseClass(\"Databases\", \"DBAS27198\", 3.3, 3)\r\n    ]\r\n  ]\r\n  \r\n  const SAMPLE_PREREQ = {\r\n    \"PROG24178\": [\"PROG10082\"],\r\n    \"PROG32758\": [\"PROG24178\"],\r\n    \"TELE33324\": [\"TELE13167\"],\r\n    \"SYST10199\": [\"SYST10049\"],\r\n  }\r\n  \r\n  const SAMPLE_COREQ = [\r\n    [\"PROG32758\", \"DBAS27198\"],\r\n  ]\r\n\r\n\r\nconst concatAtIndex = (list, index, item) => {\r\n    const listAlt = list.slice();\r\n    listAlt.slice(index, 0, item);\r\n    return listAlt;\r\n} \r\n\r\nconst removeAtIndex = (list, index) => {\r\n    const listAlt = list.slice();\r\n    listAlt.splice(index, 1);\r\n    return listAlt;\r\n} \r\n\r\n  // Goes through each of the sets in the coreq and combines them if they intersects with another\r\n const combineCoreqSets = (inputCoreq) => {\r\n    if (inputCoreq === null || inputCoreq.length === 0) return [];\r\n    let allcoreq = inputCoreq.slice();\r\n    \r\n    for (let i = 0; i < allcoreq.length; i++){\r\n      let first = allcoreq[i];\r\n      \r\n      for (let j = allcoreq.length - 1; j > i; j--){\r\n        let second = allcoreq[j];\r\n        if (intersects(first, second)){\r\n          allcoreq[i] = [...new Set(first.concat(second))];\r\n          allcoreq.splice(j,1);\r\n        }\r\n      }\r\n    }\r\n    return allcoreq;\r\n  }\r\n\r\nconst intersects = (first, second) => {\r\n    if (first === null || second === null) return false;\r\n    return first.findIndex(value => second.includes(value)) !== -1;\r\n  }\r\n\r\nconst getCoursesFromCodes = (codes, allcourses) =>{\r\n    allcourses = [].concat.apply([], allcourses);\r\n    let filtered = allcourses.filter(c => (codes.includes(c.code)));\r\n    return filtered;\r\n} \r\n\r\nconst deleteCoursesFromPrereq = (prereq, courseCodes) => {\r\n    // first delete the courseCode entry from the prerequisite map\r\n    courseCodes.forEach(courseCode => {\r\n        if (Object.prototype.hasOwnProperty.call(prereq, courseCode)) {\r\n            delete prereq[courseCode];\r\n        }\r\n    });\r\n    \r\n\r\n    // then delete the courseCodes if it is a prereq (value) for any other entry\r\n    for (let entry in prereq) {\r\n        if (Object.prototype.hasOwnProperty.call(prereq, entry)) {\r\n            prereq[entry] = prereq[entry].filter(c => !courseCodes.includes(c));\r\n            if (prereq[entry].length === 0){\r\n                delete prereq[entry];\r\n            }\r\n        }\r\n    }\r\n    \r\n    return prereq;\r\n}\r\n\r\nconst deleteCoursesFromCoreq = (coreq, courseCodes) => {\r\n\r\n\r\n    courseCodes.forEach(courseCode => { \r\n        // find the index of the 'set' that contains the courseCode, -1 if the code is not in any set\r\n        let index = coreq.findIndex(courseSet => courseSet.includes(courseCode));\r\n        if (index > -1){\r\n            coreq[index] = coreq[index].filter(c => c !== courseCode);\r\n            if (coreq[index].length === 0 || coreq[index].length === 1){\r\n                coreq.splice(index, 1);\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n    return coreq;\r\n}\r\n\r\n\r\n\r\nconst courseReducer = (state = initialState, action) => {\r\n    let term, termList, courseCode, i;\r\n    switch(action.type){\r\n        case courseTypes.ADD_TERM: \r\n            return {\r\n                ...state,\r\n                courses: \r\n                action.payload === -1\r\n                ? state.courses.concat([[]])\r\n                : concatAtIndex(state.courses, action.payload, []) // Not Tested\r\n            };\r\n        case courseTypes.REMOVE_TERM: \r\n\r\n            if (action.payload === -1){\r\n                return {\r\n                    ...state,\r\n                    courses: state.courses.slice(0, state.courses.length - 1),\r\n                    prereq: deleteCoursesFromPrereq(state.prereq, state.courses[state.courses.length - 1].map(c => c.code)),\r\n                    coreq: deleteCoursesFromCoreq(state.coreq, state.courses[state.courses.length - 1].map(c => c.code)),\r\n                    \r\n                    selectedCourse: (state.selectedCourse && state.courses[state.courses.length - 1].includes(state.selectedCourse))? null: state.selectedCourse,\r\n                    selectedTerm: (state.selectedCourse && state.courses[state.courses.length - 1].includes(state.selectedCourse))? null: state.selectedTerm,\r\n\r\n                }\r\n            }else{\r\n                // Not Tested\r\n                return {\r\n                    ...state,\r\n                    courses: removeAtIndex(state.courses, action.payload),  \r\n                    prereq: deleteCoursesFromPrereq(state.prereq, state.courses[action.payload].map(c => c.code)),\r\n                    coreq: deleteCoursesFromCoreq(state.coreq, state.courses[action.payload].map(c => c.code)),\r\n                                        \r\n                    selectedCourse: (state.selectedCourse && state.courses[action.payload].includes(state.selectedCourse))? null: state.selectedCourse,\r\n                    selectedTerm: (state.selectedCourse && state.courses[action.payload].includes(state.selectedCourse))? null: state.selectedTerm,\r\n\r\n                }\r\n            }\r\n            \r\n\r\n        case courseTypes.ADD_COURSE:\r\n            courseCode = action.payload.courseCode;\r\n            term = action.payload.term;\r\n            const course = CourseClass.EmptyCourse();\r\n            course.code = courseCode;\r\n            termList = state.courses.slice();\r\n            termList[term].push(course);\r\n            return {\r\n                ...state,\r\n                courses: termList\r\n            }\r\n        case courseTypes.EDIT_COURSE:\r\n            let { editedCourse } = action.payload;\r\n            term = action.payload.term;\r\n            termList = state.courses.slice();\r\n            termList[term] = termList[term].map(course => {\r\n                if (course.code === editedCourse.code){\r\n                    return editedCourse;\r\n                }else{\r\n                    return course;\r\n                } \r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                courses: termList\r\n            }\r\n\r\n        case courseTypes.DELETE_COURSE:\r\n            termList = state.courses.slice();\r\n            term = action.payload.term;\r\n            i = termList[term].findIndex(course => course.code === action.payload.courseCode);\r\n            termList[term].splice(i, 1);\r\n            return {\r\n                ...state,\r\n                courses: termList,\r\n                prereq: deleteCoursesFromPrereq(state.prereq, [action.payload.courseCode]),\r\n                coreq: deleteCoursesFromCoreq(state.coreq, [action.payload.courseCode]),\r\n                selectedCourse: (state.selectedCourse && action.payload.courseCode === state.selectedCourse.code)? null: state.selectedCourse,\r\n                selectedTerm: (state.selectedCourse && action.payload.courseCode === state.selectedCourse.code)? null: state.selectedTerm,\r\n            }\r\n        case courseTypes.FILTER:\r\n            let { category, value } = action.payload;\r\n            const unfiltered = [].concat.apply([], state.courses);\r\n            let filtered;\r\n            if(category === '1'){\r\n                filtered = unfiltered.filter(val => (val.grade > value));\r\n            }else if(category === '2'){\r\n                filtered = unfiltered.filter(val => (val.grade < value));\r\n            }else if(category === '3'){\r\n                filtered = unfiltered.filter(val => (val.grade === value));\r\n            }else if(category === '4'){\r\n                filtered = unfiltered.filter(val => (val.grade >= value));\r\n            }else if(category === '5'){\r\n                filtered = unfiltered.filter(val => (val.grade <= value));\r\n            }else{\r\n                filtered = unfiltered;\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                filteredCourses: filtered\r\n            }\r\n        case courseTypes.CLEAR_FILTER:\r\n            return {\r\n                ...state,\r\n                filteredCourses: []\r\n            }\r\n        case courseTypes.TOGGLE_SELECT:\r\n            const { selectedCourse } = state;\r\n            if(selectedCourse && selectedCourse.code === action.payload){\r\n                return {\r\n                    ...state,\r\n                    selectedCourse: null,\r\n                    selectedTerm: null,  \r\n                    filteredCourses: [],\r\n                }\r\n            }\r\n            let x, y;\r\n            for (x = 0; x < state.courses.length; x++){\r\n                y = state.courses[x].findIndex(val => val.code.trim() === action.payload.trim());\r\n        \r\n                if (y >= 0){\r\n        \r\n                  \r\n                  return{\r\n                      ...state,\r\n                    selectedCourse: state.courses[x][y],\r\n                    selectedTerm: x,  \r\n                    filteredCourses: []\r\n                  };\r\n                  \r\n                }\r\n              }\r\n        \r\n\r\n              return state;\r\n        case courseTypes.CLEAR_SELECT:\r\n            return {\r\n                ...state,\r\n                selectedCourse: null,\r\n                selectedTerm: null\r\n            }\r\n\r\n        case courseTypes.EDIT_PREREQ:\r\n            let prereqcopy = state.prereq;\r\n            prereqcopy[action.payload.courseCode] = action.payload.prereqCourses;\r\n            if (prereqcopy[action.payload.courseCode].length === 0){\r\n                delete prereqcopy[action.payload.courseCode];\r\n            }\r\n            return {\r\n                ...state,\r\n                prereq: prereqcopy\r\n            }\r\n        case courseTypes.EDIT_COREQ:\r\n            courseCode = action.payload.courseCode;\r\n            let coreqCourses = action.payload.coreqCourses;\r\n            let coreqcopy = state.coreq.slice();\r\n            // find the index of the 'set' that contains the courseCode, -1 if the code is not in any set\r\n            let index = coreqcopy.findIndex(courseSet => courseSet.includes(courseCode));\r\n\r\n            // if there are no supplied coreqs\r\n            // the user wants there to be no coreqCourses for this course\r\n            if (coreqCourses.length === 0){\r\n            \r\n                // delete the courseCode if index >= 0\r\n                if (index >= 0){\r\n                    coreqcopy[index].splice(coreqcopy[index].findIndex(c => c.code === courseCode), 1);\r\n                    if (coreqcopy[index].length === 0 || coreqcopy[index].length === 1){\r\n                        coreqcopy.splice(index, 1);\r\n                    }\r\n                    return {\r\n                        ...state,\r\n                        coreq: coreqcopy\r\n                    }\r\n                }\r\n                return state;\r\n            }\r\n\r\n            // if there are supplied coreqCourses\r\n\r\n\r\n            // if the course is not in the coreq list\r\n            if (index < 0){\r\n                // check if any of the coreq courses are already in the list. \r\n                // want to maintain only one set with each course\r\n                for (i = 0; i < coreqcopy.length; i++){\r\n                    if (coreqcopy[i].findIndex(c => coreqCourses.includes(c)) >= 0){\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (index < 0){\r\n                // not in the list\r\n                coreqcopy.push([]);\r\n                coreqcopy[coreqcopy.length - 1].push(...coreqCourses, courseCode);\r\n            }else{\r\n                // if within the list\r\n                // concat the coreqlist \r\n        \r\n                // line below allows for deleting courses not found in coreqCourses \r\n                // in the case where the user is removing a course from the set\r\n                coreqcopy[index] = [...coreqCourses, courseCode];\r\n                \r\n                // remove duplicate values\r\n                coreqcopy[index] = [...new Set(coreqcopy[index])];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                // function directly below helps prevent double entries\r\n                // If there are two sets that intersect,it will combine them.\r\n                // And if the user is combining a set with a single course, the set will be destroyed.\r\n                // (i.e. selecting a course that is not in a set and combining it with another that \r\n                // is in a set, the set of the later course will be destroyed, \r\n                // if both courses are each within different sets both sets will be combined)\r\n                // this function could behave weirdly with the code above that looks like:\r\n                // coreqcopy[index] = [...coreqCourses, courseCode]\r\n                // as that code deletes the previous set\r\n                coreq: combineCoreqSets(coreqcopy), \r\n            };\r\n\r\n        case courseTypes.SHOW_PREREQ:\r\n            const val = state.prereq[action.payload];\r\n            if (val !== undefined){\r\n                let filtered = getCoursesFromCodes(val, state.courses);\r\n                return {\r\n                    ...state,\r\n                    filteredCourses: filtered,\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                filteredCourses: []\r\n            };\r\n\r\n        case courseTypes.SHOW_COREQ:\r\n            \r\n            let selectedCoreqIndex = state.coreq\r\n            .findIndex(cl => cl.includes(action.payload));\r\n            \r\n            if (selectedCoreqIndex >= 0){\r\n                let list = state.coreq[selectedCoreqIndex];\r\n                list = list.filter(li => (li !== courseCode));\r\n                let filtered = getCoursesFromCodes(list, state.courses);\r\n                return{\r\n                    ...state,\r\n                    filteredCourses: filtered,\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                filteredCourses: []\r\n            };\r\n\r\n        case courseTypes.LOAD_COURSES:\r\n            return {\r\n                ...state,\r\n                courses: action.payload.courses,\r\n                prereq: action.payload.prereq,\r\n                coreq: action.payload.coreq\r\n            }\r\n\r\n        case courseTypes.DRAG_ENTER:\r\n            const newCourses = JSON.parse(JSON.stringify(state.courses));\r\n            const {params, currentItem} = action.payload;\r\n            newCourses[params.termI].splice(params.courseI, 0, newCourses[currentItem.termI].splice(currentItem.courseI, 1)[0]);\r\n            return {\r\n                ...state,\r\n                courses: newCourses,\r\n                selectedCourse: null,\r\n                selectedTerm: null,\r\n                filteredCourses: []\r\n            }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default courseReducer;\r\n\r\n\r\n\r\n","import * as focusTypes from './focusTypes';\r\n\r\nconst initialState = {\r\n    currentFocusedElm: null,\r\n    style: null\r\n}\r\n\r\n\r\n\r\nconst focusReducer = (state = initialState, action) => {\r\n    \r\n    switch(action.type){\r\n        case focusTypes.CHANGE_FOCUS:\r\n            return {\r\n                ...state,\r\n                currentFocusedElm: action.payload\r\n            }\r\n        case focusTypes.CHANGE_STYLE:\r\n            return {\r\n                ...state,\r\n                style: action.payload\r\n            }\r\n        case focusTypes.BLUR_FOCUS:\r\n            return {\r\n                ...state,\r\n                currentFocusedElm: null,\r\n                style: null\r\n            }\r\n        \r\n        default: return state;\r\n    }\r\n\r\n}\r\nexport default focusReducer; ","import { combineReducers } from 'redux';\r\n\r\nimport courseReducer from './course/courseReducer';\r\nimport settingsReducer from './settings/settingsReducer';\r\nimport focusReducer from './focus/focusReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n   courses: courseReducer,\r\n   settings: settingsReducer,\r\n   focus: focusReducer\r\n});\r\n\r\nexport default rootReducer;","import { compose, createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer';\r\nconst store = createStore(rootReducer, compose(applyMiddleware(logger, thunk)));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n"],"sourceRoot":""}